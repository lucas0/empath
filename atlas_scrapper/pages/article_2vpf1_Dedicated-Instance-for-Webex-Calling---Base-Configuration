May 08, 2023 |
6182 view(s) |
1 people thought this was helpful
Dedicated Instance for Webex Calling - Base Configuration
In this article
In Base configuration, the Dedicated Instance Webex Calling configuration in the Control Hub which includes the Unified Communication application is detailed in high level.
Overview
This document provides high level configuration details about the Dedicated Instance for Webex Calling System Configuration (Dedicated Instance) that is built for a customer which includes Unified Communications (UC) applications:
Cisco Unified Communication Manager (Unified CM)
Cisco Unified Instant Message and Presence (IM&P)
Cisco Unified Unity Connection (CUCxN) and
Cisco Emergency Responder (CER)
Edge components (Cisco Expressways)
Cisco Configured Components
Cisco configures multiple components in the Customer’s Dedicated Instance UC applications. For these components to be easily identifiable, Cisco inserts an x in the beginning of the name of the component. This x prefix alerts partners to a Cisco-configured name, that the partner or customer administrators should not modify or delete. This format is also used for Cisco’s Operational monitoring/readiness of the Dedicated Instance UC applications.
The Partner or Customer should not modify or delete any of the following:
Region entries which are associated with resources in the Datacenter (DC) i.e., Conference bridges, SIP trunks, etc.
Device pool entries which are associated with devices in the Cisco’s Datacenter.
Security configurations as required
Credential policy configuration
SIP security profile configuration
Cisco configured SIP Trunks for various services integration, i.e., RedSky, Inter-op trunk to Webex Calling Multi-tenant, etc.
Cisco configures two CDR destinations in Unified CM to monitor the application and provide analytics in Control Hub for administrators.

Unless the Dedicated Instance document explicitly mentions to change a customer specific configuration in the SIP trunks.
Control Hub – Webex Calling
Component
Cisco Assigned Name
Details
Location
Services → Calling → Location
WXC-DI-<region>-LOC
Location is mandatory for activation of Interop SIP trunk between Webex Calling and Dedicated Instance.

  The customer administrator must configure the Main Number for this default Location created. If this is not done, you will not be able to make or receive calls through the Route Group associated to this Location. See Configure PSTN Connection section in How to Activate Dedicated Instance for more information.
SIP Trunk
Services → Calling → Call Routing → Trunk
WXC-DI-<region>-<DC-1>
WXC-DI-<region>-<DC-2>
SIP trunk one to each Dedicated Instance datacenter within a region is configured for basic interop between Webex Calling and Dedicated Instance.

  These are default trunks created by Cisco, should not be modified or deleted.
Route Group
Services → Calling → Call Routing → Route Group
WXC-DI-<region>-RG
Route Groups are configured with the Interop SIP trunks and administrator can easily configure or link their custom Dial Plan to the default Route Group.
Cisco Unified Communication Manager (Unified CM)
Component
Cisco Assigned Name
Details
Unified CM Groups
System → Cisco Unified CM Group
xCER-CMG
x<region>-CMG1
x<region>-CMG2
A Unified Communications Manager Group is a prioritized list of up to three redundant servers to which devices can register. Each group contains a primary node and up to two backup nodes.
Region
System → Region Information → Region
xCUCxN Reg
xSIP Trunk Reg
x<DC1> Reg
x<DC2> Reg
Regions provide capacity controls for Unified Communications Manager multi-site deployments where you may need to limit the bandwidth for certain calls.
Device Pool
System → Device Pool
xCER_DP
xIMP_DP
x<DC1>_CMG1_DP
x<DC2>_CMG2_DP
x<DC1>_CUCxN_DP
x<DC2>_CUCxN_DP
x<DC1>_MEDIA_DP
x<DC2>_ MEDIA_DP
x<DC1>_ SBC_SIP_DP
x<DC2>_ SBC_SIP_DP
Device pools provide a common set of configurations for a group of devices. You can assign a device pool to devices such as phones, gateways, trunks and CTI route points.
SIP Trunk Security Profile
System → Security → SIP Trunk Security Profile
xCUCxN_SIP_Trunk_Security_Profile_NonSecure
xExpressway_SIP_Trunk_Security_Profile
xIMP_SIP_Trunk_Security_Profile
xRedSky_Trunk_SP_NonSecure
xWxC_MT_Trunk_SP_NonSecure
Security related settings for the SIP trunk to allow you to assign a single security profile to multiple SIP trunks. Security related settings include device security mode, digest authentication, and incoming/outgoing transport type settings.
MRA Service Domain
Advanced Features → MRA Service Domain
MRA voice service domain <customer name>. <region>. wxc-di.webex.com.
MRA Service Domains let you specify which Expressway your phones register.
For example, customer.amer.wxc-di.webex.com, customer.emea.wxc-di.webex.com

  The SIP URI address value provided during the Dedicated Instance Service Activation is the domain used for all the UC applications and Mobile and Remote Access (MRA) service domain for each region(s). The Voice Service Domain per region is provided in the Dedicated Instance access document shared through Webex App message at the time-of-service activation.
SIP Trunk
Device → Trunk
SIP Trunks to:
IM&P:
xIMP_SIP_Trunk
Expressway:
xTrunk-to-<customer id>vccXXX
CUCxN:
x<DC1>_CUCxN_SIP_Trunk_NonSecure
x<DC2>_CUCxN_SIP_Trunk_NonSecure
RedSky:
x<DC1>_e911_RedSky_TRK
x<DC2>_e911_RedSky_TRK
Inter-op to WxC Multi-tenant:
xWxC_<DC1>_TRK
xWxC_<DC2>_TRK
Webex Meeting (Webex Edge Audio):
xWEA-<DC>-TRK
SIP Trunk Configuration window contains the SIP signaling configurations that Unified CM uses to manage SIP calls.

  The customer administrator must configure the SIP Normalization Script created. For more information refer to Integrated Audio for Webex configuration.
Route Group
Call Routing → Route/Hunt → Route Group
RedSky:
x<DC>_e911_RedSky_RG
Inter-op to WxC Multi-tenant:
xWxC_MT_<DC>_RG
Webex Meeting (Webex Edge Audio):
xWEA_<DC>_RG
Route List
Call Routing → Route/Hunt → Route List
RedSky:
x<DC>_e911_RedSky_RL
Inter-op to WxC Multi-tenant:
xWxC_MT_<DC>_RL
Webex Meeting (Webex Edge Audio):
xWEA_<DC>_RL
SIP Profile
Device → Device Settings → SIP Profile
xCUCxN_SIP_Profile
xIMP Standard SIP Profile
xRedSky_SIP_Profile
xSIP_Profile_for_Expressways
xWxC_MT_SIP_Profile
SIP settings that you can assign to SIP devices and trunks that use this profile.
Common Phone Profile
Device → Device Settings → Common Phone Profile
xICE Phone Profile
Common Phone Profiles allow you to configure Feature Control Policy settings and then apply those settings to all the phones in your network that use that profile.
SIP Normalization Scripts
Device → Device Settings → SIP Normalization Scripts
xRedSky_Normalization
xWxC_MT_Normilization

  Customer or partner is expected to update the RedSky account ID.
Application User
User Management → Application Users
partneradmin

  The other application users are used by Cisco for operational and monitoring purpose.
Credential Policy
User Management → User Settings → Credential Policies
UCM For Cloud Credential Policy
UCM For Cloud Service Account Credential Policy
UCM For Cloud CER App User Account Credential Policy
UCM For Cloud Credential Policy - PIN
Credential policies control the authentication process for resources in Unified CM. A credential policy defines password requirements and account lockout details such as failed login attempts, expiration periods and lockout durations for end user passwords, end user PINs, and application user passwords. Credential policies can be assigned broadly to all accounts of a specific credential types, such as all end user PINs, or they can be customized for a specific application user, or end user.
Roles
User Management → User Settings → Roles
Customer AXL API Access
Customer CCMADMIN
Customer CCMADMIN ReadOnly
Customer IMPADMIN
Partner AXL API Access
Partner CCMADMIN
Partner CCMADMIN ReadOnly
Partner IMPADMIN
Partner RealtimeAndTraceCollection

  The other Role is created by Cisco, and cannot be edited or deleted by Partner or Customer administrators.
UC Services
User Management → User Settings → UC Services
IMP-Primary
IMP-Secondary
MS-Primary
MS-Secondary
VS-Primary
VS-Secondary
Configure the user's service profile to point to the Unified CM services that you want to apply to this service profile.
Service Profiles
User Management → User Settings → Service Profiles → xSTD-Cluster-UCSP-Voice-Only
UserServiceProfile
Service Profile allows you to create a profile that comprises common Unified CM Services settings.

  The partner admin is required to get the HELD Customer ID and HELD+ Secure ID from his RedSky account and add them in xSTD-Cluster-UCSP-Voice-Only of Service Profile section.
User Rank
User Management → User Settings → User Rank
3 - Partner Admin
4 – Customer Admin
5 – Enterprise User
The User Rank hierarchy provides a set of controls over which access control groups an administrator and can assign to an end user or application user.
Service Parameters - Cisco CallManager
System → Service Parameters → Cisco CallManager
Call Diagnostics Enabled – Enabled Only When CDR Enabled Flag is True
T302 Timer (msec) - 7500
Stop Routing On Unallocated Number Flag - False
Stop Routing On User Busy Flag – False
Strip G.729 Annex B (Silence Suppression) from Capabilities Required Field – True
Default Inter-Presence Group Subscription Required Field – Allow Subscription
Enable Enterprise Feature Access Required Field - True
Service Parameters - Cisco IP Voice Media Streaming App
System → Service Parameters → Cisco IP Voice Media Streaming App
Annunciator (ANN) Parameters → Run Flag – False
Media Termination Point (MTP) Parameters → Run Flag – False
Conference Bridge (CFB) Parameters → Run Flag – False
Enterprise Parameters
System → Enterprise Parameters
Cluster ID
Provides a unique identifier to the cluster.
Auto Registration Phone Protocol Required Field – SIP
This is the protocol used by the auto registration phone during initialization.
Enable Dependency Records Required Field – True
Self Care Portal Parameters
Self Care Portal Default Server
Cisco configures the Call Manager publisher node as default.
End User Parameter
Directory URI Alias Partition
Security Parameter
Cluster Security Model - 1
TFTP File Signature Algorithm - SHA512
Indicates the security mode of the cluster and the algorithm to be used while generating the CTL, ITL and TFTP configuration files.
The Cluster security mode is set to Mixed Mode for the Unified CM Cluster.
Certificate Revocation and Expiry
Certificate Validity Check - Disabled
Initiates the expiry checking services for the different applications.
Secure Phone URL Parameters
Secure URL Authentication - http://<CUCM Publisher FQDN>:8443/ccmcip/authenticate.jsp
Secure Directory URL (XML) - http://<CUCM Publisher FQDN>:8443/ccmcip/xmldirectory.jsp
Secure Contact Search URL (UDS) - http://<CUCM Publisher FQDN>:8443/ cucm-uds/users
Clusterwide Domain Configuration
Organization Top Level Domain
Cluster Fully Qualified Domain Name
Cisco Syslog Agent
Remote Syslog Server Name
Syslog Severity For Remote Syslog messages Required Field - Warning
Cisco Unified Unity Connection (CUCxN)
Component
Cisco Assigned Name
Details
Partition
Dialplan → Partition
<customer id><dc id>ccnXXX Partition
Tenant partitioning also introduces the concept of using the corporate email addresses as their alias, which enables alias uniqueness across tenants.
Search Space
Dialplan → Search Space
<customer id><dc id>ccnXXX Search Space
Search spaces are assigned to objects such as user primary extensions, routing rules, call handlers, or VPIM locations.
Authentication Rules
System Settings
UCM For Cloud Credential Policy - Voice Mail Application
UCM For Cloud Credential Policy - Web Application
Authentication rules govern user passwords, PINs, and account lockouts for all user accounts.
Roles
System Settings → Roles → Custom Roles
Partner CUC Admin
Custom roles are the roles that you create with a list of privileges based on your organizational requirements. Custom roles can be assigned or unassigned to users by System Administrator or a custom role user with role assignment privilege.
Port Group
Telephony Integrations → Port Group
PortGroup-<region>1
PortGroup-<region>2
Port Groups are assigned voice messaging ports that define Unity Connection integration configuration settings.
Port
Telephony Integrations → Port
PortGroup-<region>1-XXX
Enterprise Parameters
System Settings → Enterprise Parameters
Cluster ID
Trusted List of Hosts in HTTP Referer/Host Header
Remote Syslog Server Name 1
Remote Syslog Server Name 2
Enterprise parameters for Cisco Unity Connection provide default settings that apply to all services in Cisco Unified Serviceability.
Users
Users → Users
Partneradmin

  The other application users are used by Cisco for operational and monitoring purpose.
Cisco Emergency Responder (CER)
Component
Cisco Assigned Name
Details
SysLog Server
System → Cisco ER Group Settings
Syslog Server
SNMPv3 Settings
Phone Tracking → SNMPv3 Settings
SNMP user details will be added for all the CUCM nodes.
Cisco Unified Communications Manager Cluster
CUCM Publisher details will be added.
Users
User Management → Users
Partneradmin

  The other application users are used by Cisco for operational and monitoring purpose.
Roles
User Management → Roles
Partner CUC Admin
User Groups
User Management → User Groups
Partner → Admin Group
Red Sky Configuration
System → Intrado VUI Settings
Redsky Root certificate uploaded
VUI URL
Enable HTTP Proxy
As part of the RedSky configuration:
Proxy Host name/IP Address hosted in Cisco’s datacenter is configured
The RedSky certificate is updated in CER

  The partner administrator is required to get the CER Account ID from their RedSky portal and add the details in Intrado Account ID field.
Edge Components (Cisco Expressways)
Component
Cisco Assigned Name
IP
System → Network Interfaces → IP
LAN 1 IP address
DNS
System → DNS
DNS server IP address (should not be modified)
Time
System → Time
NTP servers IP address (should not be modified)
Clustering
System → Clustering
Cisco UCM details address (should not be modified)
Call Policy Rule
To enhance the security of the base Dedicated Instance platform, and to promote good security practice, Dedicated Instance Expressway E’s are preconfigured with a Call Policy to block all inbound B2B calls.
During configuration and testing of B2B services, this call policy should be updated in line with the customers requirement. This ensures that the B2B calls are destined for the correct destinations and/or come from valid sources.
Refer to About Call Policy for more information.

The Dedicated Instance UC application access details along with the credentials are shared only through the Webex App message to the partner or customer email ID provided in the Cisco Webex Order for a Customer wizard. By default, the access document is shared only to the partner's email ID through Webex App. If the partner's email ID is not available then the customer's email ID is used for the Webex App message notification.
See, Webex App | Sign In for the First Time for more information.