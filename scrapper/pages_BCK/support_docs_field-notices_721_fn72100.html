Field Notices
Field Notice: FN - 72100 - After Applying Cisco Broadworks Patch ap357768, Tomcat Might Not Stop Gracefully - Software Upgrade Recommended
Save
Print
Updated:March 19, 2021
Document ID:FN72100
Bias-Free Language
Notice
THIS FIELD NOTICE IS PROVIDED ON AN "AS IS" BASIS AND DOES NOT IMPLY ANY KIND OF GUARANTEE OR WARRANTY, INCLUDING THE WARRANTY OF MERCHANTABILITY. YOUR USE OF THE INFORMATION ON THE FIELD NOTICE OR MATERIALS LINKED FROM THE FIELD NOTICE IS AT YOUR OWN RISK. CISCO RESERVES THE RIGHT TO CHANGE OR UPDATE THIS FIELD NOTICE AT ANY TIME.
Revision History
Revision Publish Date Comments
1.0
12-Mar-21
Initial Release
Products Affected
Affected OS Type Affected Software Product Affected Release Affected Release Number Comments
NON-IOS
Application Patches
22.0
22.0.2020.08, 22.0.2020.09, 22.0.2020.10, 22.0.2020.11, 22.0.2020.12, 22.0.2021.01, 22.0.2021.02
Cisco Broadworks R22
Defect Information
Defect ID Headline
CSCvx25322 BEMS01178783 BW AS did not restart gracefully.
Problem Description
Cisco BroadWorks Application Server, Database Server, Network Server, Profile Server, Messaging Server, and Xtended Services Platform R22.0 patch ap357768 is missing some dependencies required for them to operate as expected.
Background
When patch ap357768 was built, it lacked some of the required dependencies. As a result, once the patch is applied to the server it might cause Tomcat to fail to stop gracefully.
Problem Symptom
You might see output similar to this example when you execute a command to shut down Broadworks on a server (for example: stopbw):
2020/11/27 11:10:43:===== SHUTDOWN REQUESTED -- CLEANING UP =====
2020/11/27 11:10:44:Shutting down process 17049
2020/11/27 11:10:44:APP_PROP_SHUTDOWN defined (contents shown between square brackets:[tomcat_run.pl stop]
Undefined subroutine &bwnet::getSocketList called at /usr/local/broadworks/bw_base/bin/tomcat_run.pl line 132.
2020/11/27 11:10:44:Cleaning out old Tomcat work files...
2020/11/27 11:10:44:Shutdown Alarm Sent 'bwPMtomcatShutDown 0 0 1'
2020/11/27 11:10:50:Process monitor exiting.
Workaround/Solution
These patches are now available to correct the issue and must be applied in addition to the corresponding patch ap357768 for the server type:
Release 22
AP.platform.22.0.1123.ap378405
AP.as.22.0.1123.ap378405
AP.ns.22.0.1123.ap378405
AP.ps.22.0.1123.ap378405
The version of BroadWorks that is currently deployed as well as the patches activated can be checked by executing the get versions all command from the CLI. More information on how to check the patch level can be found in section 8.2 of the Cisco Broadworks Maintenance Guide as well as information on how to apply and activate BroadWorks patches.
For More Information
If you require further assistance, or if you have any further questions regarding this field notice, please contact the Cisco Systems Technical Assistance Center (TAC) by one of the following methods:
Open a service request on Cisco.com
By email or telephone
Receive Email Notification For New Field Notices
My Notificationsâ€”Set up a profile to receive email updates about reliability, safety, network security, and end-of-sale issues for the Cisco products you specify.
Was this Document Helpful?
Yes No Feedback
This Document Applies to These Products
BroadWorks Application Server 22.0
BroadWorks Database Server 22.0
BroadWorks Messaging Server 22.0
BroadWorks Network Server 22.0
BroadWorks Profile Server 22.0
+ Show All 6 Products