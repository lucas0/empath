Field Notices
Field Notice: FN - 72300 - Large Announcements Played on Bare Metal Media Server 2020.10 or Later Might Fail - Software Upgrade Recommended
Save
Print
Updated:January 6, 2022
Document ID:FN72300
Bias-Free Language
Notice
THIS FIELD NOTICE IS PROVIDED ON AN "AS IS" BASIS AND DOES NOT IMPLY ANY KIND OF GUARANTEE OR WARRANTY, INCLUDING THE WARRANTY OF MERCHANTABILITY. YOUR USE OF THE INFORMATION ON THE FIELD NOTICE OR MATERIALS LINKED FROM THE FIELD NOTICE IS AT YOUR OWN RISK. CISCO RESERVES THE RIGHT TO CHANGE OR UPDATE THIS FIELD NOTICE AT ANY TIME.
Revision History
Revision Publish Date Comments
1.0
21-Dec-21
Initial Release
Products Affected
Affected OS Type Affected Software Product Affected Release Affected Release Number Comments
NON-IOS
Base Software
RI
RI.2020.10, RI.2020.11, RI.2020.12, RI.2021.01, RI.2021.02, RI.2021.03, RI.2021.04, RI.2021.05, RI.2021.06, RI.2021.07, RI.2021.08, RI.2021.09, RI.2021.10
Cisco BroadWorks Release Independent
Defect Information
Defect ID Headline
CSCwa36730 Voicemail Users are unable to update or Record personalised Greetings
Problem Description
When you upgrade to Release 2020.10 or later, large announcements played on bare metal Media Server might fail.
Background
When you upgrade to Release 2020.10 or later, large announcements played on bare metal Media Server might fail. If the server was already upgraded to Release 2020.10 or later and no issue was encountered, there is no problem.
The problem is not present on Media Server running in a virtual machine.
The Media Server issue is due to an initialization change introduced in Release 2020.10. This results in allocation of a smaller shared memory segment that is used to store media files on some systems. The issue might occur on Media Server that runs on bare metal servers.
Problem Symptom
Since the shared memory used to store media files is smaller due to this initialization error, it results in sporadic memory allocation errors when media files are downloaded. For example, larger media files such as MusicOnHold. When this happens, a log message is printed and the download halts, which leaves a dangling HTTP connection.
2021.11.30 09:33:28:955 CET | FieldDebug | msfe | LogServerUdpSocket
         NetworkClient::get Fetching http://192.168.143.165/media/it/MusicOnHold.wav
2021.11.30 09:33:28:958 CET | FieldDebug | msfe | LogServerUdpSocket
         SharedMemoryBuffer::allocateMemory  Caught exception when allocating size=7611732 message: Out of IVR shared memory - no large enough segment available
Workaround/Solution
On bare metal Media Server releases earlier than 2020.10, upgrade to Release  2021.11 or later:
MS_Rel_2021.11_1.161.Linux-x86_64.bin
For More Information
If you require further assistance, or if you have any further questions regarding this field notice, please contact the Cisco Systems Technical Assistance Center (TAC) by one of the following methods:
Open a service request on Cisco.com
By email or telephone
Receive Email Notification For New Field Notices
My Notificationsâ€”Set up a profile to receive email updates about reliability, safety, network security, and end-of-sale issues for the Cisco products you specify.
Was this Document Helpful?
Yes No Feedback
Contact Cisco
Open a Support Case
(Requires a Cisco Service Contract)
This Document Applies to These Products
BroadWorks Media Server