Field Notices
Field Notice: FN74010 - Xsi-Events Memory Leak When a Channel is Created - Software Upgrade Recommended
Save
Translations
Print
Updated:June 1, 2023
Document ID:FN74010
Bias-Free Language
Notice
THIS FIELD NOTICE IS PROVIDED ON AN "AS IS" BASIS AND DOES NOT IMPLY ANY KIND OF GUARANTEE OR WARRANTY, INCLUDING THE WARRANTY OF MERCHANTABILITY. YOUR USE OF THE INFORMATION ON THE FIELD NOTICE OR MATERIALS LINKED FROM THE FIELD NOTICE IS AT YOUR OWN RISK. CISCO RESERVES THE RIGHT TO CHANGE OR UPDATE THIS FIELD NOTICE AT ANY TIME.
Products Affected

Affected Software Product Affected Release Affected Release Number Comments
Base Software RI RI.2022.08, RI.2022.09, RI.2022.10, RI.2022.11, RI.2022.12, RI.2023.01, RI.2023.02, RI.2023.03  

Defect Information

Defect ID Headline
CSCwe91946 ADP Post-upgrade Memory Leak

Problem Description

The Xtended Services Interface (Xsi-Events) application for Cisco BroadWorks Application Delivery Platform and Cisco BroadWorks Xtended Services Platform experiences a memory leak every time a channel is created. This causes the WebContainer to become unstable over time.

Background

The following applications are affected by this issue:
Xsi-Events-23 and Xsi-Events-24, bundled with Cisco BroadWorks Application Delivery Platform releases Rel_2022.11_1.273 through Rel_2023.03_1.411
Xsi-Events-XS-TAS, bundled with Cisco BroadWorks Xtended Services Platform releases Rel_2022.11_1.273 through Rel_2023.03_1.411
Xsi-Events-25, bundled with Cisco BroadWorks Application Delivery Platform releases Rel_2022.08_1.350 through Rel_2023.03_1.411
Xsi-Events and other web applications deployed on the same server become unresponsive over time as the WebContainer runs out of memory.

Problem Symptom

The leak can be observed by looking at the garbage collector logs that are found in the TomcatOutput log files. After a full garbage collection, the amount of memory still referenced by the application can be observed.
When a leak is present, the amount of memory used after each collection grows slowly. The memory footprint does not decrease, even after a period of inactivity on the system.
In this example, the total memory footprint that was used after a full collection grew from 1242931K on March 1, to 13182588K on March 10, and to 23328820K on March 17.
2023-03-01T23:58:40.102-0700: [Full GC (Ergonomics) [PSYoungGen: 2736K->0K(72192K)] [ParOldGen: 1422498K->1242931K(1399808K)] 1425235K->1242931K(1472000K), [Metaspace: 107320K->107320K(110592K)], 2.1138236 secs] [Times: user=3.46 sys=0.56, real=2.11 secs]
2023-03-10T18:03:10.745-0700: [Full GC (Ergonomics) [PSYoungGen: 101196K->0K(5330944K)] [ParOldGen: 14251539K->13182588K(14484480K)] 14352736K->13182588K(19815424K), [Metaspace: 113759K->113
759K(116736K)], 24.4189853 secs] [Times: user=42.47 sys=5.70, real=24.42 secs]
2023-03-17T23:56:53.225-0700: [Full GC (Ergonomics) [PSYoungGen: 9718272K->959151K(10451456K)] [ParOldGen: 22369543K->22369668K(22369792K)] 32087815K->23328820K(32821248K), [Metaspace: 114416K->114416K(116736K)], 63.8265572 secs] [Times: user=106.54 sys=19.59, real=63.83 secs]

Workaround/Solution

The problem is fixed in Xsi-Events-23, Xsi-Events-24, and Xsi-Events-25 as standalone applications on Cisco BroadWorks Application Delivery Platform releases Rel_2023.04_1.290 and later.
The problem is also fixed in Xsi-Events-XS-TAS bundled with Cisco BroadWorks Xtended Services Platform releases Rel_2023.04_1.290 and later.
Use the following links to download and run the fixed releases of Cisco software:
BroadWorks Xtended Services Platform XSP_Rel_2023.04_1.295
BroadWorks Application Delivery Platform Xsi-Events-25_2023.04_1.295
BroadWorks Application Delivery Platform Xsi-Events-24_2023.04_1.295
BroadWorks Application Delivery Platform Xsi-Events-23_2023.04_1.295

Revision History

Version Description Section Date
1.0 Initial Release — 2023-JUN-01

For More Information

If you require further assistance, or if you have any further questions regarding this field notice, please contact the Cisco Systems Technical Assistance Center (TAC) by one of the following methods:

Open a service request on Cisco.com
By email or telephone

Receive Email Notification For New Field Notices

My Notifications—Set up a profile to receive email updates about reliability, safety, network security, and end-of-sale issues for the Cisco products you specify.
Was this Document Helpful?
Yes No Feedback