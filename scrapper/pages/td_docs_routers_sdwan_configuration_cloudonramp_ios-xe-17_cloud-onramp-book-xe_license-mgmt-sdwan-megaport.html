End-User Guides
Cisco SD-WAN Cloud OnRamp Configuration Guide, Cisco IOS XE Release 17.x
Bias-Free Language
Book Contents
Download
Print
Updated:
August 26, 2022
Chapter: License Management for Cisco SD-WAN Cloud Interconnect with Megaport
Chapter Contents
Table 1. Feature History
Feature Name
Release Information
Description
License Management for Cisco SD-WAN Cloud Interconnect with Megaport Cisco vManage Release 20.9.1
To create Interconnect Gateways and Interconnect Connections in the Megaport fabric, you must purchase required licenses on Cisco Commerce workspace.
With this feature, Cisco vManage operates together with Megaport to enable you to monitor your licenses while Cisco and Megaport jointly enforce the license requirements when you create Interconnect Gateways or Interconnect Connections.
Information About License Management for Cisco SD-WAN Cloud Interconnect with Megaport
View Licenses Associated with a Megaport Account
Find License SKU Associated with an Interconnect Gateway
Find License SKU Associated with an Interconnect Connection
Information About License Management for Cisco SD-WAN Cloud Interconnect with Megaport
With the Cisco SD-WAN Cloud Interconnect with Megaport solution, Cisco vManage enables you to create site-to-cloud and site-to-site connections that span the Cisco SD-WAN overlay and the Megaport fabric. In the site-to-cloud use case, you can connect a Cisco SD-WAN branch site to a public cloud service using the Megaport fabric. In the site-to-site use case, you can connect a Cisco SD-WAN branch site to another branch site using the Megaport fabric.
The workflow for creating a site-to-cloud connection using Cisco vManage is as follows:
Deploy a Cisco Catalyst 8000V instance as an Interconnect Gateway at a Megaport Point of Presence (PoP).
Create an Interconnect Connection in the Megaport fabric between the Interconnect Gateway and the cloud service provider.
Route traffic from the WAN edge device at the branch to the Interconnect Gateway through the Cisco SD-WAN overlay, connecting your branch to the cloud service provider.
The workflow for creating a site-to-site connection using Cisco vManage is as follows:
Deploy two Cisco Catalyst 8000V instances as Interconnect Gateways at a Megaport Point of Presence (PoP).
Create an Interconnect Connection in the Megaport fabric between the Interconnect Gateways.
Route traffic from the WAN edge device at one of the branches to one of the Interconnect Gateways through the Cisco SD-WAN overlay.
Route traffic from the WAN edge device at the other branch to the other Interconnect Gateway through the Cisco SD-WAN overlay.
Before you create the Interconnect Gateways and Interconnect Connections in the Megaport fabric, you must purchase the required licenses that are available as Stock Keeping Units (SKUs) on Cisco Commerce workspace. The licenses belong to the following three categories:
Interconnect Gateway Licenses
Interconnect Connection Licenses
Supplemental Licenses
These licenses must be purchased along with the required Cisco Catalyst 8000V licenses and, if necessary, HSEC licenses. If you do not have the required licenses, creation of the Interconnect Gateway or Interconnect Connection fails and Cisco vManage displays an appropriate error message provided by Megaport.
Interconnect Gateway Licenses
Interconnect Connection Licenses
Supplemental Licenses
License Enforcement
Interconnect Gateway Licenses
An Interconnect Gateway license enables you to deploy an Interconnect Gateway in any metro of a particular region in the Megaport fabric.
While choosing the Interconnect Gateway license, consider the following aspects:
Deployment region: Deploy the Interconnect Gateway at a Megaport PoP that is nearest to your branch in that region.
Form factor: Choose a form factor for the Interconnect Gateway based on the maximum cumulative bandwidth of inbound traffic from all the branches that you intend to connect to the gateway.
The SKUs are named in this format: MVE-<region-code>-<form-factor-code>-C
In Megaport terminology, an Interconnect Gateway is referred to as a Megaport Virtual Edge (MVE).
The region-code identifies a region, which includes one or more metros. In turn, each metro has multiple data centers for redundancy. The following table lists the available regions, region codes, and the metros within each region.
Region Region Code Metros
North America NA Ashburn, Atlanta, Bay Area, Chicago, Dallas, Denver, Los Angeles, Miami, New York, Phoenix, Seattle, Toronto
Europe EU Amsterdam, Frankfurt, Paris
Asia ASIA Hong Kong, Singapore, Osaka, Tokyo
Australia AU Melbourne, Perth, Sydney
New Zealand NZ Auckland
United Kingdom UK London

Note
The supported metros in a region and supported regions are subject to change based on Megaport expanding to new metros and regions. Check Cisco Commerce workspace for the up-to-date list of supported metros and regions.
The availability of a metro for Interconnect Gateway deployment is subject to available compute capacity in the metro.
Use one of the following form factors for the Interconnect Gateway:
Form Factor Form Factor Code Description
Small SML Cisco Catalyst 8000V instance with 2 cores supports a maximum inbound bandwidth of 500 Mbps
Medium MED Cisco Catalyst 8000V instance with 4 cores supports a maximum inbound bandwidth of 1 Gbps
Large LRG Cisco Catalyst 8000V instance with 8 cores supports a maximum inbound bandwidth of 5 Gbps
-C at the end of a SKU name indicates that it is a prepaid license.
IP Transit to Interconnect Gateway
Along with the Interconnect Gateway license, purchase a suitable IP transit license on Cisco Commerce workspace. The IP transit license if for the internet connection to the Interconnect Gateway at the Megaport PoP. WAN edge devices at the branches connect to the Interconnect Gateway through this internet connection. When you select an Interconnect Gateway license on Cisco Commerce workspace, the appropriate IP transit license is automatically included for purchase.
The IP transit SKUs are named in this format: IPT-<region-code>-<form-factor-code>-C
The region and form-factor codes have the same values as the Interconnect Gateway SKU. -C at the end of the SKU name indicates that it is a prepaid license.
Related Concepts
License Enforcement for Interconnect Gateways
Interconnect Connection Licenses
You can create two types of Interconnect Connections:
Within a metro in a Megaport region: The Interconnect Connections within a metro are short-haul connections.
Between metros: The Interconnect Connections between metros are long-haul connections.
Purchase appropriate licenses for both short-haul and long-haul connections on Cisco Commerce workspace.
Short-Haul Interconnect Connection Licenses
You can create a short-haul Interconnect Connection from an Interconnect Gateway to a Cloud OnRamp instance or to another Interconnect Gateway in the same metro. A short-haul Interconnect Connection acts as a private connect to a cloud service provider within a metro. Short-haul Interconnect Connections have a bandwidth of 1 Gbps or 10 Gbps. Short-haul Interconnect Connections are also referred to as In-Metro (IM) Interconnect Connections.
The short-haul Interconnect Connection SKUs are named in this format: VXC-IM-<bandwidth>-<region-code>-C
In Megaport terminology, an Interconnect Connection is referred to as a Virtual Cross Connect (VXC). IM denotes In-Metro.
The region-code identifies a region, which includes one or more metros. In turn, each metro has multiple data centers for redundancy. The following table lists the available regions, region codes, and the metros within each region.
Region Region Code Metros
North America NA Ashburn, Atlanta, Bay Area, Chicago, Dallas, Denver, Los Angeles, Miami, New York, Phoenix, Seattle, Toronto
Europe EU Amsterdam, Frankfurt, Paris
Asia ASIA Hong Kong, Singapore, Osaka, Tokyo
Australia AU Melbourne, Perth, Sydney
New Zealand NZ Auckland
United Kingdom UK London

Note
The supported metros in a region and supported regions are subject to change based on Megaport expanding to new metros and regions. Check Cisco Commerce workspace for the up-to-date list of supported metros and regions.
A short-haul Interconnect Connection SKU for a region enables you to create an Interconnect Connection in any metro in the region.
The bandwidth is 1G (representing 1 Gbps) or 10 G (representing 10 Gbps).
-C at the end of the SKU name indicates that it is a prepaid license.
Long-Haul Interconnect Connection Licenses
You can create a long-haul Interconnect Connection in the following cases:
From an Interconnect Gateway to a Cloud OnRamp instance in a different metro in the same region or another region. The Interconnect Connection acts as a private connect to a cloud service provider across metros or regions.
From an Interconnect Gateway to another Interconnect Gateway in a different metro in the same region or another region. The Interconnect Connection connects Interconnect Gateways across metros or regions.
Long-haul Interconnect Connections have one of the following bandwidths: 50 Mbps, 100 Mbps, 200 Mbps, 300 Mbps, 400 Mbps, 500 Mbps, 1 Gbps, 2 Gbps, 5 Gbps, and 10 Gbps.
Long-haul Interconnect Connections are also referred to as Inter/Intra-Region Interconnect Connections.
The long-haul Interconnect Connection SKUs are named in this format: VXC-II-<region1-code>-<region2-code>-C
In Megaport terminology, an Interconnect Connection is referred to as a Virtual Cross Connect (VXC). II denotes Inter/Intra-Region.
A region-code identifies a region, which includes one or more metros. In turn, each metro has multiple data centers for redundancy. The following table lists the available regions, region codes, and the metros within each region.
Region Region Code Metros
North America NA Ashburn, Atlanta, Bay Area, Chicago, Dallas, Denver, Los Angeles, Miami, New York, Phoenix, Seattle, Toronto
Europe EU Amsterdam, Frankfurt, Paris
Asia ASIA Hong Kong, Singapore, Osaka, Tokyo
Australia AU Melbourne, Perth, Sydney
New Zealand NZ Auckland
United Kingdom UK London

Note
The supported metros in a region and supported regions are subject to change based on Megaport expanding to new metros and regions. Check Cisco Commerce workspace for the up-to-date list of supported metros and regions.
A long-haul Interconnect Connection SKU for a region enables you to create an Interconnect Connection in any metro in the region.
-C at the end of the SKU name indicates that it is a prepaid license.
Related Concepts
License Enforcement for Short-Haul Interconnect Connections
License Enforcement for Long-Haul Interconnect Connections
Supplemental Licenses
To create an AWS hosted connection, in addition to a short-haul or long-haul Interconnect Connection license, you must purchase an AWS hosted connection license on Cisco Commerce workspace.
To use a long-haul Interconnect Connection as an AWS hosted connection, purchase a SKU that has the format: AWS-HC-IIVXC-C
AWS-HC denotes an AWS hosted connection.
IIVXC denotes an inter/intra-region VXC or a long-haul Interconnect Connection.
The permissible bandwidth of the connection is determined by the bandwidth associated with the long-haul Interconnect Connection license.
-C at the end of the SKU name indicates that it is a prepaid license.
To use a short-haul Interconnect Connection as an AWS hosted connection, purchase a SKU that has the format: AWS-HC-IMVXC-<bandwidth>-C
AWS-HC denotes an AWS hosted connection.
IMVXC denotes an in-metro VXC or a short-haul Interconnect Connection.
The bandwidth is 1G (representing 1 Gbps) or 10 G (representing 10 Gbps). The bandwidth of the AWS hosted connection license must match the bandwidth of the short-haul Interconnect Connection license.
-C at the end of the SKU name indicates that it is a prepaid license.
Related Concepts
License Enforcement for AWS Hosted Connections
License Enforcement
Cisco and Megaport jointly enforce the entitlements for the licenses purchased through Cisco Commerce workspace.
When you purchase a license SKU on Cisco Commerce workspace, Megaport is notified of the purchase and the license is added to your Megaport account. You can also view the license information on the Account Licenses page Cisco vManage.
When you create an Interconnect Gateway, an Interconnect Connection, or an AWS hosted connection on Cisco vManage, before creating the resource in the Megaport fabric, Megaport verifies whether you have the necessary licenses.
If you have the necessary licenses, Megaport changes the license status to in-use and creates the requested resource. The license status is also updated on Cisco vManage.
If you do not have the necessary licenses, Megaport does not create the requested resource and Cisco vManage displays an error message to indicate that you do not have the necessary licenses. Purchase the necessary licenses on Cisco Commerce workspace and create the resource.
Cisco vManage raises an alarm 90 days before a license expires. Cisco vManage also raises alarms when a license expires or is renewed on Cisco Commerce workspace.
Megaport notifies you of license expiration and impending license expiry through emails.
License Enforcement for Interconnect Gateways
License Enforcement for Short-Haul Interconnect Connections
License Enforcement for Long-Haul Interconnect Connections
License Enforcement for AWS Hosted Connections
Related Concepts
View Licenses Associated with a Megaport Account
License Enforcement for Interconnect Gateways
When you create an Interconnect Gateway on Cisco vManage, Cisco vManage sends the request to Megaport. Before approving the request, Megaport checks whether you have the necessary license in your account.
To create the Interconnect Gateway, you must have an Interconnect Gateway license that matches the following criteria:
The license must not have expired and must not be in use.
The license must apply to the region in which you wish to create the Interconnect Gateway.
The license must match the form factor of the Interconnect Gateway you wish to create.
If you have multiple licenses that are not in use and support the requested region and form factor, the license with the earliest expiration time is selected.
If you have a license that matches the required criteria, Megaport marks the license as being in-use and approves the request to create the Interconnect Gateway.
If you do not have a license that matches the required criteria, Interconnect Gateway creation fails and Cisco vManage displays an appropriate error message such as the following: No license for <ICGWName> MVE
Purchase the necessary license on Cisco Commerce workspace or make an in-use license available and try creating the Interconnect Gateway again. When you delete an Interconnect Gateway, the status of the associated license changes to available.
License Expiry
Cisco vManage raises an alarm in the following scenarios:
90 days before an Interconnect Gateway license expires
When an Interconnect Gateway license expires
When an Interconnect Gateway license is renewed
Upon license expiration, Megaport does not bring down the Interconnect Gateway. Renew the license before expiry or bring down the Interconnect Gateway within 14 days of license expiry. Megaport may charge you directly based on their Global Services Agreement if you do not renew the license within the grace period of 14 days.
Related Concepts
Interconnect Gateway Licenses
License Enforcement for Short-Haul Interconnect Connections
When you create a short-haul Interconnect Connection on Cisco vManage, Cisco vManage sends the request to Megaport. Before approving the request, Megaport checks whether you have the necessary license in your account.
To create the short-haul Interconnect Connection, you must have a short-haul Interconnect Connection license that matches the following criteria:
The license must not have expired and must not be in use.
The license must apply to the region in which the target metro is located.
The license must match the bandwidth of the Interconnect Connection you wish to create or support a larger bandwidth.
If you have multiple licenses that are not in use and match the region and the bandwidth, the license with the earliest expiration time is selected.
If a license that matches the bandwidth or a closest license of higher bandwidth meets the required region and availability criteria, Megaport marks the license as being in-use and approves the request to create the short-haul Interconnect Connection.
If you do not have a license that matches the required criteria, short-haul Interconnect Connection creation fails and Cisco vManage displays an appropriate error message such as the following: Unable to find valid matching license for the Interconnect connection
Purchase the necessary license on Cisco Commerce workspace or make an in-use license available and try creating the short-haul Interconnect Connection again. When you delete a short-haul Interconnect Connection, the status of the associated license changes to available.
License Expiry
Cisco vManage raises an alarm in the following scenarios:
90 days before a short-haul Interconnect Connection license expires
When a short-haul Interconnect Connection license expires
When a short-haul Interconnect Connection license is renewed
Upon license expiration, Megaport does not bring down the short-haul Interconnect Connection. Renew the license before expiry or bring down the short-haul Interconnect Connection within 14 days of license expiry. Megaport may charge you directly based on their Global Services Agreement if you do not renew the license within the grace period of 14 days.
Related Concepts
Interconnect Connection Licenses
License Enforcement for Long-Haul Interconnect Connections
When you create a long-haul Interconnect Connection on Cisco vManage, Cisco vManage sends the request to Megaport. Before approving the request, Megaport checks whether you have the necessary license in your account.
To create the long-haul Interconnect Connection, you must have a long-haul Interconnect Connection license that matches the following criteria:
The license must not have expired and must not be in use.
The license must apply to the regions in which the source and target metros are located.

Note
The UK does not belong to the EU region. To provision a connection originating or terminating in the UK, ensure that you have an appropriate UK license.
The license must match the bandwidth of the Interconnect Connection you wish to create or support a larger bandwidth.
If you have multiple licenses that are not in use and match the regions and the bandwidth, the license with the earliest expiration time is selected.
If a license that matches the bandwidth or a closest license of higher bandwidth meets the required region and availability criteria, Megaport marks the license as being in-use and approves the request to create the long-haul Interconnect Connection.
If you do not have a license that matches the required criteria, long-haul Interconnect Connection creation fails and Cisco vManage displays an appropriate error message such as the following: Unable to find valid matching license for the Interconnect connection
Purchase the necessary license on Cisco Commerce workspace or make an in-use license available and try creating the long-haul Interconnect Connection again. When you delete a long-haul Interconnect Connection, the status of the associated license changes to available.
License Expiry
Cisco vManage raises an alarm in the following scenarios:
90 days before a long-haul Interconnect Connection license expires
When a long-haul Interconnect Connection license expires
When a long-haul Interconnect Connection license is renewed
Upon license expiration, Megaport does not bring down the long-haul Interconnect Connection. Renew the license before expiry or bring down the long-haul Interconnect Connection within 14 days of license expiry. Megaport may charge you directly based on their Global Services Agreement if you do not renew the license within the grace period of 14 days.
Related Concepts
Interconnect Connection Licenses
License Enforcement for AWS Hosted Connections
When you create a short-haul or long-haul Interconnect Connection Cisco vManage and intend to use it as an AWS hosted connection, Cisco vManage sends the request to Megaport. Before approving the request, Megaport checks whether you have the necessary short-haul or long-haul Interconnect Connection license, and the supplemental AWS hosted connection license.
A short-haul Interconnect Connection license must fulfil requirements outlined in the License Enforcement for Short-Haul Interconnect Connections section of this document.
A long-haul Interconnect Connection license must fulfil requirements outlined in the License Enforcement for Long-Haul Interconnect Connections section of this document.
The AWS hosted connection license must not have expired and must not be in use.
If an Interconnect Connection license that matches the bandwidth or a closest license of higher bandwidth meets the required region and availability criteria, and the supplemental AWS hosted connection license is available for use, Megaport marks the licenses as being in-use and approves the request to create the long-haul Interconnect Connection.
If you do not have the required licenses, connection creation fails and Cisco vManage displays an appropriate error message such as the following: Unable to find valid matching license for the Interconnect connection
Purchase the necessary licenses on Cisco Commerce workspace or make in-use licenses available and try creating the AWS hosted connection again. When you delete an Interconnect Connection being used as an AWS hosted connection, the associated licenses become available to create a new AWS hosted connection.
License Expiry
Cisco vManage raises an alarm in the following scenarios:
90 days before the supplemental license expire
When the supplemental license expires
When the supplemental license is renewed
Upon license expiration, Megaport does not bring down the AWS hosted connection. Renew the license before expiry or bring down the connection within 14 days of license expiry. Megaport may charge you directly based on their Global Services Agreement if you do not renew the license within the grace period of 14 days.
Related Concepts
Supplemental Licenses
View Licenses Associated with a Megaport Account
From the Cisco vManage menu, choose Configuration > Cloud OnRamp for Multicloud.
Click Interconnect.
From SETUP under WORKFLOWS, click Account Licenses.
Provider: From the drop-down list, choose Megaport.
Account Name: From the drop-down list, choose a Megaport account name.
To view Interconnect Gateway licenses, click INTERCONNECT GATEWAY LICENSES.
Cisco vManage displays the Interconnect Gateway license SKUs associated with the account, providing the following details for each SKU:
Table 2. Interconnect Gateway License SKU Details
Column Description
SKU Name
Name of the license SKU
SKU UUID
Unique ID for the license SKU within the Megaport account to which it belongs
Gateway Size
Size or form factor of the Interconnect Gateway instance (SML, MED, or LRG)
State
Current state of the license(IN_USE; IN_USE, EXPIRED; AVAILABLE; or EXPIRED)
License End Date
The end date (expiry date) for the license derived from the start date and the term of entitlement
Start Date
The license start date specified while ordering the SKU on Cisco Commerce workspace
Smart Account ID
Smart Account to which the license belongs
Virtual Account ID
Virtual Account to which the license belongs
Subscription ID
Subscription ID associated with the license
Web Order ID
Unique web order ID for the license
To view Interconnect Connection licenses, click INTERCONNECT CONNECTION LICENSES.
Cisco vManage displays the Interconnect Connection license SKUs associated with the account, providing the following details for each SKU:
Table 3. Interconnect Connection License SKU Details
Column Description
SKU Name
Name of the license SKU
SKU UUID
Unique ID for the license SKU within the Megaport account to which it belongs
State
Current state of the license(IN_USE; IN_USE, EXPIRED; AVAILABLE; or EXPIRED)
License End Date
The end date (expiry date) for the license derived from the start date and the term of entitlement
Start Date
The license start date specified while ordering the SKU on Cisco Commerce workspace
VXC Bandwidth
Configured bandwidth (in Mbps) of the Interconnect Connection
Smart Account ID
Smart Account to which the license belongs
Virtual Account ID
Virtual Account to which the license belongs
Subscription ID
Subscription ID associated with the license
Web Order ID
Unique web order ID for the license
To view supplemental licenses, click SUPPLEMENTAL LICENSES.
Cisco vManage displays the supplemental license SKUs associated with the account, providing the following details for each SKU:
Table 4. Supplemental License SKU Details
Column Description
SKU Name
Name of the license SKU
SKU UUID
Unique ID for the license SKU within the Megaport account to which it belongs
State
Current state of the license(IN_USE; IN_USE, EXPIRED; AVAILABLE; or EXPIRED)
License End Date
The end date (expiry date) for the license derived from the start date and the term of entitlement
Start Date
The license start date specified while ordering the SKU on Cisco Commerce workspace
Bandwidth
Configured bandwidth (in Mbps) of the AWS hosted connection
Smart Account ID
Smart Account to which the license belongs
Virtual Account ID
Virtual Account to which the license belongs
Subscription ID
Subscription ID associated with the license
Web Order ID
Unique web order ID for the license
Find License SKU Associated with an Interconnect Gateway
From the Cisco vManage menu, choose Configuration > Cloud OnRamp for Multicloud.
Click Interconnect.
From MANAGE under WORKFLOWS, click Gateway Management.
Cisco vManage displays all the deployed Interconnect Gateways in a table.
Find the Interconnect Gateway of interest.

Tip
Search for an Interconnect Gateway using the name you specified for it during configuration.
Scroll to the right to view the License SKU UUID column.
On the Account Licenses page, use this SKU UUID to view more information about the license SKU.
The License End Date column displays the expiry date for the Interconnect Gateway license.
Related Concepts
View Licenses Associated with a Megaport Account
Find License SKU Associated with an Interconnect Connection
From the Cisco vManage menu, choose Configuration > Cloud OnRamp for Multicloud.
Click Interconnect.
From INTENT MANAGEMENT under WORKFLOWS, click Interconnect Connectivity.
Cisco vManage displays all the configured Interconnect Connections in a table.
Find the Interconnect Connection of interest.

Tip
Search for the Interconnect Connection using the name you entered for it during configuration.
Scroll to the right to view the Connection License SKU UUID column. On the Account Licenses page, use this SKU UUID to view more information about the license SKU.
The License End Date column displays the expiry date for the Interconnect Connection license.
For an AWS hosted connection, Cisco vManage displays the following details:
The AWSHC License UUID column displays the SKU UUID for the supplemental AWS hosted connection license. On the Account Licenses page, use this SKU UUID to view more information about the license SKU.
the AWSHC License End Date column displays the expiry date for the supplemental AWS hosted connection license.
Related Concepts
View Licenses Associated with a Megaport Account
Was this Document Helpful?
Yes No
Feedback
Contact Cisco
Open a Support Case
(Requires a Cisco Service Contract)