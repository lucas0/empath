End-User Guides
Cisco SD-WAN Systems and Interfaces Configuration Guide, Cisco IOS XE Release 17.x
Bias-Free Language
Book Contents
Translations
Download
Print
Updated:
August 23, 2022
Chapter: Network Hierarchy and Resource Management
Chapter Contents
Table 1. Feature History
Feature Name
Release Information
Description
Network Hierarchy and Resource Management
Cisco IOS XE Release 17.9.1a
Cisco vManage Release 20.9.1
This feature enables you to create a network hierarchy in Cisco vManage to represent the geographical locations of your network. The network hierarchy and the associated resource IDs, including region IDs and site IDs, help you apply configuration settings to a device. In addition, the introduction of the resource manager in Cisco vManage automatically manages these resource IDs, thereby simplifying the overall user experience of Cisco SD-WAN.
Note that you can create a region only if you enable the Multi-Region Fabric option in Cisco vManage.
Network Hierarchy and Resource Management (Phase II)
Cisco IOS XE Release 17.10.1a
Cisco vManage Release 20.10.1
The following enhancements are introduced in the Network Hierarchy and Resource Management feature.
Creation of a system IP pool on the Configuration > Network Hierarchy page
Automatic assignment of site ID, system IP, and hostname to a device in the Quick Connect workflow
Display of detailed information on the Configuration > Network Hierarchy page, including site ID pool, region ID pool, and the list of devices associated with a site
Support for Software Defined Remote Access Pools
Cisco IOS XE Release 17.11.1a
Cisco vManage Release 20.11.1
Remote access refers to enabling secure access to an organization's network from devices at remote locations. The resource pool manager manages the IPv4 and IPv6 private IP address pools for Cisco SD-WAN remote access devices.
You can create a software defined remote access pool using the Configuration > Network Hierarchy page.
Information About Network Hierarchy and Resource Management
Supported Devices for Network Hierarchy and Resource Management
Restrictions for Network Hierarchy and Resource Management
Manage a Network Hierarchy
Assign Resource IDs to Devices
Information About Network Hierarchy and Resource Management
Overview of Network Hierarchy
You can create a network hierarchy in Cisco vManage to represent the geographical locations of your network. Your network hierarchy can contain three types of nodes—regions, areas, and sites. The resource IDs assigned to the nodes help you identify where to apply configuration settings later.
By default, there is one node called global in the network hierarchy.
The network hierarchy has a predetermined hierarchy with three types of nodes:
Region: It represents a region in a multiregion fabric-based Cisco SD-WAN deployment. The Multi-Region Fabric feature provides the option to divide the architecture of the Cisco SD-WAN overlay network into multiple regional networks that operate distinctly from one another, and a central core-region network for managing inter-regional traffic.
You can create a region only if you enable the Multi-Region Fabric option in Cisco vManage. For complete information about the Multi-Region Fabric feature, see the Cisco SD-WAN Multi-Region Fabric (also Hierarchical SD-WAN) Configuration Guide.
Area: An area is a logical grouping of nodes in a network hierarchy. You can group sites, regions, other areas, or any combination of these into an area.
Site: A site is the lowest level of node or the leaf node in a network hierarchy. You cannot create a child node under a site. You can only associate devices to a site.
For complete information about creating and managing different nodes in a network hierarchy, see Manage a Network Hierarchy.
Overview of Resource Management
The resource manager in Cisco vManage manages the resource IDs, that is, region IDs and site IDs. It automatically generates a region ID for a region that you create on the Configuration > Network Hierarchy page. Similarly, it generates a site ID for a site if you do not specify it.
You can assign a site ID and a region ID to a device. For complete information about assigning resource IDs to devices, see Assign Resource IDs to Devices.
If you upgrade from an earlier version of Cisco vManage to Cisco vManage Release 20.9.1, the resource manager in Cisco vManage automatically creates sites based on the site IDs of the existing devices in your setup. Sites are named as SITE_<id>. Cisco vManage displays these sites under the global node on the Network Hierarchy page. It also associates the existing devices with their sites in the network hierarchy.
Benefits of Network Hierarchy and Resource Management
Benefits of Network Hierarchy and Resource Management
Automates the management of regions and sites.
Saves the manual effort in an upgrade scenario when Cisco vManage discovers all your existing sites and displays them in the network hierarchy.
Simplifies the onboarding and configuration of devices.
Supported Devices for Network Hierarchy and Resource Management
This feature is supported on Cisco IOS XE SD-WAN devices and Cisco vEdge devices.
Restrictions for Network Hierarchy and Resource Management
You can delete a node only if it does not have any child node. For example, you can delete a site only if no devices are associated with it.
A site is the lowest level of a node or the leaf node in a network hierarchy. You cannot create a child node under a site.
You cannot create more than one region node between the global node and a site node.
You cannot create a region in a multitenant deployment.
Manage a Network Hierarchy
The Network Hierarchy and Resource Management feature enables you to do the following:
Create a region
Create an area
Create, edit, and delete a site
Create a Region in a Network Hierarchy
Create an Area in a Network Hierarchy
Create a Site in a Network Hierarchy
Edit a Region
Delete a Region
Edit an Area
Delete an Area
Edit a Site
Delete a Site
Create a System IP Pool
Edit a System IP Pool
Create a Remote Access Pool
Edit a Remote Access Pool
Delete a Pool
Create a Region in a Network Hierarchy
Before You Begin
Ensure that the Multi-Region Fabric option in Cisco vManage is enabled.
From the Cisco vManage menu, choose Administration > Settings.
Click Edit adjacent to the Multi-Region Fabric option.
Click Enabled, and then click Save.
Create a Region
From the Cisco vManage menu, choose Configuration > Network Hierarchy.
Click … adjacent to a node (global or area) in the left pane and choose Add MRF Region.

Note
In Cisco vManage Release 20.9.x, you can also use the Add Node option to add a region.
In the Name field, enter a name for the region. The name must be unique and can contain only letters, the digits 0 through 9, hyphens (-), underscores (_), and periods (.).
In the Description field, enter a description of the region.
From the Parent drop-down list, choose a parent node.
Click Add.
Create an Area in a Network Hierarchy
From the Cisco vManage menu, choose Configuration > Network Hierarchy.
Click … adjacent to a node (global, region, or area) in the left pane and choose Add Area.

Note
In Cisco vManage Release 20.9.x, you can also use the Add Node option to add an area.
In the Name field, enter a name for the area. The name must be unique and can contain only letters, the digits 0 through 9, hyphens (-), underscores (_), and periods (.).
In the Description field, enter a description of the area.
From the Parent drop-down list, choose a parent node.
Click Add.
Create a Site in a Network Hierarchy
From the Cisco vManage menu, choose Configuration > Network Hierarchy.
Click … adjacent to a node (global, region, or area) in the left pane and choose Add Site.

Note
In Cisco vManage Release 20.9.x, you can also use the Add Node option to add a site.
In the Name field, enter a name for the site. The name must be unique and can contain only letters, the digits 0 through 9, hyphens (-), underscores (_), and periods (.).
In the Description field, enter a description of the site.
From the Parent drop-down list, choose a parent node.
In the Site ID field, enter a site ID.
If you do not enter the site ID, Cisco vManage generates a site ID for the site.
Click Add.
Edit a Region
From the Cisco vManage menu, choose Configuration > Network Hierarchy.
Click … adjacent to the region name and choose Edit MRF Region.
Edit the options as needed. You can edit the name, description, and parent of the region.
Click Save.
Delete a Region
From the Cisco vManage menu, choose Configuration > Network Hierarchy.
Click … adjacent to the region name and choose Delete MRF Region.
In the confirmation dialog box, click Yes.
Edit an Area
From the Cisco vManage menu, choose Configuration > Network Hierarchy.
Click … adjacent to the area name and choose Edit Area.
Edit the options as needed. You can edit the name, description, and parent of the area.
Click Save.
Delete an Area
From the Cisco vManage menu, choose Configuration > Network Hierarchy.
Click … adjacent to the area name and choose Delete Area.
In the confirmation dialog box, click Yes.
Edit a Site
From the Cisco vManage menu, choose Configuration > Network Hierarchy.
Click … adjacent to the site name and choose Edit Site.
Edit the options as needed. You can edit only the name, description, and parent of the site.
Click Save.
Delete a Site
From the Cisco vManage menu, choose Configuration > Network Hierarchy.
Click … adjacent to the site name and choose Delete Site.
In the confirmation dialog box, click Yes.
Create a System IP Pool
Minimum releases: Cisco IOS XE Release 17.10.1a, Cisco vManage Release 20.10.1
From the Cisco vManage menu, choose Configuration > Network Hierarchy.
The page displays the site pool and region pool for the Global node.
Click Add.
In the Pool Name field, enter a name for the pool.
In the Pool Description field, enter a description of the pool.
From the Pool Type drop-down list, choose System IP.
In the IP Subnet* field, enter an IP address.
In the Prefix Length* field, enter the prefix length of the system IP pool.
Click Add.

Note
You can create only one system IP pool. If you want to make any changes to the pool, you must edit the existing pool.
Edit a System IP Pool
Minimum releases: Cisco IOS XE Release 17.10.1a, Cisco vManage Release 20.10.1
From the Cisco vManage menu, choose Configuration > Network Hierarchy.
The page displays the site pool and region pool for the Global node. The system IP pool is also displayed if you have already created it.
Click … adjacent to the system IP name and choose Edit.
Edit the options as needed.

Note
You can only expand the pool range and cannot enter a lower IP address than the already specified IP address.
Click Save.
Create a Remote Access Pool
Minimum supported release: Cisco vManage Release 20.11.1
The resource pool manager supports creation of IPv4 and IPv6 private IP pools for Cisco SD-WAN remote access devices. In the remote access configuration you can select the remote access private IP Pool by defining the number of IP addresses.
For more information on Software Defined Remote Access, see Cisco SD-WAN Remote Access.
From the Cisco vManage menu, choose Configuration > Network Hierarchy.
The page displays the site pool and region pool for the Global node.
Click Add Pool.
In the Pool Name field, enter a name for the pool.
In the Pool Description field, enter a description of the pool.
From the Pool Type drop-down list, choose Remote Access.
Choose the IP Type by clicking the radio button next to IPv4 or IPv6.
In the IP Subnet field, enter an IP subnet.
In the Prefix Length field, enter the prefix length of the remote access pool.
Click Add.
Edit a Remote Access Pool
Minimum supported release: Cisco vManage Release 20.11.1
You can edit a remote access pool only when you want to expand the pool range.
From the Cisco vManage menu, choose Configuration > Network Hierarchy.
The page displays the site pool and region pool for the Global node. The remote access pool is also displayed if you have already created it.
Click … adjacent to the remote access pool name and choose Edit.
Edit the options as needed.

Note
When you edit a remote access pool, the new pool range cannot be less than the existing pool range
Click Save.
Delete a Pool
Minimum supported release: Cisco vManage Release 20.11.1
From the Cisco vManage menu, choose Configuration > Network Hierarchy.
In the Global page, click … adjacent to the pool name and choose Delete.
In the confirmation dialog box, click Yes.

Note
You can delete a pool only when the pool resources are not in use.
Assign Resource IDs to Devices
The Network Hierarchy and Resource Management feature enables you to do the following:
Assign a site ID to a device
Assign a region ID to a device
Assign a Site ID to a Device
Assign a Region ID to a Device
Assign a System IP to a Device
Assign a Hostname to a Device
Assign a Site ID to a Device
You can assign a site ID to a device using one of the following ways.
Use the Quick Connect Workflow
Use a Template
Use a Configuration Group
Use the Quick Connect Workflow
From the Cisco vManage menu, choose Workflows > Workflow Library.
Start the Quick Connect workflow.
Follow the instructions provided in the workflow.
On the Add and Review Device Configuration page, enter the site ID of the device.

Note
You can use any of the existing site IDs that are available in the network hierarchy or enter a new site ID. If you enter a new site ID without creating a node in the network hierarchy, the site is automatically created and listed on the Configuration > Network Hierarchy page.
(Minimum releases: Cisco IOS XE Release 17.10.1a, Cisco vManage Release 20.10.1) If you want Cisco vManage to automatically generate a site ID for the device, do not make any change to the default value, AUTO.
Use a Template
From the Cisco vManage menu, choose Configuration > Devices > WAN Edge List.
Check if a device is attached to a device template.
From the Cisco vManage menu, choose Configuration > Templates > Feature Templates.
Click … adjacent to the System feature template and choose Edit.
Click the Basic Configuration tab and set the scope of the Site ID field to Global and enter the site ID.
Click Update.
Click Configure Devices to push the configuration to the device.
In Step 5, if you set the scope of the Site ID field to Device Specific, do the following:
From the Cisco vManage menu, choose Configuration > Templates > Device Templates.
Click … adjacent to the device template and choose Edit Device Template.
In the Site ID field, enter the site ID.
You can use any of the existing site IDs that are available in the network hierarchy or enter a new site ID. If you enter a new site ID without creating a node in the network hierarchy, the site is automatically created and listed on the Configuration > Network Hierarchy page.
Click Update.
Click Configure Devices to push the configuration to the device.
Use a Configuration Group
The configuration group flow is applicable only for the Cisco IOS XE SD-WAN devices.
From the Cisco vManage menu, choose Configuration > Templates > Configuration Groups.
Click … adjacent to the configuration group name and choose Edit.
Click Associated Devices.
Choose a device that is associated with the configuration group and click Deploy.
The Deploy Configuration Group workflow starts.
Follow the instructions provided in the workflow.
On the Add and Review Device Configuration page, enter the site ID of the device.
You can use any of the existing site IDs that are available in the network hierarchy or enter a new site ID. If you enter a new site ID without creating a node in the network hierarchy, the site is automatically created and listed on the Configuration > Network Hierarchy page.
Assign a Region ID to a Device
Before You Begin
Have access to the Multi-Region Fabric feature.
Ensure that the region is available in the network hierarchy.
Assign a Region ID
From the Cisco vManage menu, choose Configuration > Devices > WAN Edge List.
Check if the corresponding device is attached to a device template.
From the Cisco vManage menu, choose Configuration > Templates > Feature Templates.
Click … adjacent to the System feature template and choose Edit.
Click the Basic Configuration tab and set the scope of the Region ID field to Global and enter the region ID.
You can use any of the existing region IDs that are available in the network hierarchy. If the specified region ID is not available in the network hierarchy, the template push operation to the devices fails.
Click Update.
Click Configure Devices to push the configuration to the device.
In Step 5, if you set the scope of the Region ID field to Device Specific, do the following:
From the Cisco vManage menu, choose Configuration > Templates > Device Templates.
Click … adjacent to the device template and choose Edit Device Template.
In the Region ID field, enter the region ID.
Click Update.
Click Configure Devices to push the configuration to the device.
Assign a System IP to a Device
Minimum releases: Cisco IOS XE Release 17.10.1a, Cisco vManage Release 20.10.1
From the Cisco vManage menu, choose Workflows > Workflow Library.
Start the Quick Connect workflow.
Follow the instructions provided in the workflow.
On the Add and Review Device Configuration page, enter the system IP of the device. If you want Cisco vManage to automatically generate a system IP for the device, do not make any change to the default value, AUTO.
Assign a Hostname to a Device
Minimum releases: Cisco IOS XE Release 17.10.1a, Cisco vManage Release 20.10.1
From the Cisco vManage menu, choose Workflows > Workflow Library.
Start the Quick Connect workflow.
Follow the instructions provided in the workflow.
On the Add and Review Device Configuration page, enter the hostname of the device. If you want Cisco vManage to automatically generate a hostname for the device, do not make any change to the default value, AUTO.
Was this Document Helpful?
Yes No
Feedback
Customers Also Viewed
Identify vEdge Certificate Expired on May 9, 2023
Cisco SD-WAN Getting Started Guide --- Install and Upgrade Cisco IOS XE Release 17.2.1r and Later
Cisco SD-WAN Getting Started Guide --- Cisco SD-WAN Overlay Network Bring-Up Process
+ Show 3 More
Contact Cisco
Open a Support Case
(Requires a Cisco Service Contract)