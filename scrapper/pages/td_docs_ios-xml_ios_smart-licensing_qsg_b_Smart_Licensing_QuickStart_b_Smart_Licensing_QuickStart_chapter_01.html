Configuration Guides
Cisco Smart Licensing Guide for Cisco Enterprise Routing Platforms
Bias-Free Language
Book Contents
Translations
Download
Print
Updated:
December 3, 2018
Chapter: Smart Licensing for New Deployments
Chapter Contents

Note
If you want to learn more about licensing for the enterprise routers running on Cisco IOS XE Release 17.4.1 or later, or if you are looking for licensing information for the Cisco Catalyst 8000 Series routers, see the Smart Licensing Using Policy for the Cisco Enterprise Routing Platforms.
When you purchase the SL-only 16.10.1a or later images, Smart Licensing is enabled by default. However, you must perform the following steps to use the Smart Licensing feature:
Ensure that the Prerequisites are met.
Power on your device.
Configure Smart Call Home. To view the detailed steps for configuring Call Home, see Configuring Call Home Service.

Note
While specifying the Smart Licensing registration URL for the CSSM portal, prefix the URL with HTTPS; HTTP is no longer supported
Generate a token ID from the CSSM portal. To know how to perform this step, see the Generating a New Token from Cisco Smart Software Manager section.
Register the device on the portal using the token. To know how to perform this step, see the Registering Device using the id Token section.
In case of Satellite deployments under call-home profile, remove the default destination CSSM production URL and configure the satellite destination URL.
The following image describes the high level steps involved in configuring Smart Licensing for a new deployment:
Figure 1. Smart Licensing workflow for new deployments

Note
You must enable some specific licenses for some enforced features such as HSEC and Boost. These licenses are called enforced licenses. To enable enforced licensing, purchase the required enforced licenses. After you purchase an enforced license, Cisco deposits these licenses in your smart account. When you register your device, the licenses undergo an automatic check after which they are enabled.
See the following topics to know how to configure Smart Licensing:
Configure Smart Call Home
Enable Smart Licensing
Generating a New Token from Cisco Smart Software Manager
Registering Device using the id Token
Configure Smart Call Home
Smart Call Home options that are required for the Smart Licensing are automatically enabled when the Smart Licensing is enabled.
If Smart Call Home is disabled, enable the following:
Configure terminal
Service call-home
In the smart licensing configuration, by default a Cisco TAC-1 profile is configured. For direct cloud access, you must additionally update the following:
Configure terminal
Service call-home
Call-home > Contact-email-address
When you change from the Call Home to the Smart transport method, you do not have to disable the CiscoTAC-1 call-home profile for Smart Licensing to work as expected.
Enable Smart Licensing
Cisco IOS XE 16.10.1a and Later
When you purchase the Cisco IOS XE 16.10.1a or later images, Smart Licensing is enabled by default. Smart Licensing is the only mode that is available for licensing, and you do not have to perform any additional steps to enable this feature.
Cisco IOS XE 16.9.x or Previous Versions
If you are using Cisco IOS XE 16.9.x or a previous version, Smart Licensing is not enabled by default. To enable the same, execute the following:
Conf t
license smart enable
What to do next
As the next step, proceed to Registering the Device.
Generating a New Token from Cisco Smart Software Manager
Tokens are generated to register new product instances to the virtual account.
Procedure
Step 1
Login to Cisco Smart Software Manager at https://software.cisco.com/#.
You must log into the portal using an username and password provided by Cisco.
Step 2
Select the Inventory tab, and select your virtual account from the Virtual Account drop-down list.
Step 3
Select the General tab, and click New Token.
The system displays the Create Registration Token page.
Step 4
Enter the token description. Specify the number of days the token must be active.
Step 5
Enable the Allow export-controlled functionality on the products registered with this token check box.
Step 6
Click Create Token. After the token is created, click Copy to copy the newly created token.
Registering Device using the id Token
Procedure
Now that you have the token from the CSSM, using the token, execute the <device>#license smart register idtoken < token from CSSM portal > command to complete the smart license configuration.
On successful registration, the device displays the “Registered” status and receives an identity certificate. This certificate is saved on your device and is automatically used for all future communication with Cisco. However, if the registration fails, the system generates an error log.
Example:
Note 
For an ASR device with redundancy enabled, you must execute write memory after successful registration. This ensures that the registration is valid even if you perform switchover or reload operations.
What to do next
Enable the required technology package licenses by executing the license boot level <technologypackage> command from the global config mode.
Was this Document Helpful?
Yes No
Feedback
Customers Also Viewed
Cisco Smart Licensing Guide for Cisco Enterprise Routing Platforms --- Information About Smart Licensing
Cisco CSR 1000v and Cisco ISRv Software Configuration Guide --- Installing Cisco CSR 1000v Licenses
Smart Licensing Using Policy for Cisco Enterprise Routing Platforms --- How to Configure Smart Licensing Using Policy: Workflows by Topology
+ Show 3 More
Contact Cisco
Open a Support Case
(Requires a Cisco Service Contract)