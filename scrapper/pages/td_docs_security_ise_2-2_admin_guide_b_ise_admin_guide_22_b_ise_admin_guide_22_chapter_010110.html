Configuration Guides
Cisco Identity Services Engine Administrator Guide, Release 2.2
Bias-Free Language
Book Contents
Translations
Download
Print
Updated:
January 31, 2017
Chapter: Configure Client Provisioning
Chapter Contents
Configure Client Provisioning in Cisco ISE
Client Provisioning Resources
Add Client Provisioning Resources from Cisco
Add Cisco Provided Client Provisioning Resources from a Local Machine
Add Customer Created Resources for AnyConnect from a Local Machine
Create Native Supplicant Profiles
Client Provisioning Without URL Redirection for Different Networks
AMP Enabler Profile Settings
Cisco ISE Support for Onboarding Chromebook Devices
Create AnyConnect Configuration
Create a Posture Agent Profile
Client IP Address Refresh Configuration
Posture Protocol Settings
Client Login Session Criteria
Provision Client Machines with the Cisco NAC Agent MSI Installer
Cisco ISE Posture Agents
Cisco AnyConnect Secure Mobility
Cisco NAC Agent XML File Installation Directories
Cisco NAC Agent for Windows Clients
Cisco NAC Agent for Macintosh Clients
Cisco Web Agent
Cisco NAC Agent Logs
Create an Agent Customization File for the Cisco NAC Agent
Configure Client Provisioning Resource Policies
Client Provisioning Reports
Client Provisioning Event Logs
Configure Client Provisioning in Cisco ISE
Enable client provisioning to allow users to download client provisioning resources and configure agent profiles. You can configure agent profiles for Windows clients, Mac OS X clients, and native supplicant profiles for personal devices. If you disable client provisioning, users attempting to access the network will receive a warning message indicating that they are not able to download client provisioning resources.
Before you begin
If you are using a proxy and hosting client provisioning resources on a remote system, verify that the proxy allows clients to access that remote location.
Procedure
Step 1
Choose Administration > System > Settings > Client Provisioning .
Step 2
From the Enable Provisioning drop-down list, choose Enable or Disable.
Step 3
From the Enable Automatic Download drop-down list, choose Enable.
Feed downloads include all the available client provisioning resources. Some of these resources may not be pertinent to your deployment. Cisco recommends manually downloading resources whenever possible instead of setting this option.
Step 4
Specify the URL where Cisco ISE searches for system updates in the Update Feed URL text box. For example, the default URL for downloading client-provisioning resources is https://www.cisco.com/web/secure/pmbu/provisioning-update.xml.
If your network restricts URL-redirection functions (via a proxy server, for example) and you are experiencing difficulty accessing the default URL, try also pointing your Cisco ISE to the following URL: https://www.perfigo.com/ise/provisioning-update.xml.
Step 5
When there is no client provisioning resource for a device, choose one of the following options:
Allow Network Access: Users are allowed to register their device on the network without having to install and launch the native supplicant wizard.
Apply Defined Authorization Policy: Users must try to access the Cisco ISE network via standard authentication and authorization policy application (outside of the native supplicant provisioning process). If you enable this option, the user device goes through standard registration according to any client-provisioning policy applied to the user’s ID. If the user’s device requires a certificate to access the Cisco ISE network, you must also provide detailed instructions to the user describing how to obtain and apply a valid certificate using the customizable user-facing text fields.
Step 6
Click Save.
What to do next
Configure client provisioning resource policies.
Client Provisioning Resources
Client provisioning resources are downloaded to endpoints after the endpoint connects to the network. Client provisioning resources consist of compliance and posture agents for desktops, and native supplicant profiles for phones and tablets. Client provisioning policies assign these provisioning resources to endpoints to start a network session.
Client provisioning resources are listed on Policy Elements > Results > Client Provisioning > Resources. The following resource types can be added to the list by clicking the Add button:
Agent resources from Cisco Site: Select the NAC, AnyConnect and supplicant provisioning wizards you want to make available for client provisioning policies. Cisco periodically updates this list of resources, adding new ones and updating existing ones. You can also set up ISE to download all the Cisco resources and resource updates automatically, see Configure Client Provisioning in Cisco ISE for more information.
Agent resources from local disk: Select resources on your PC that you want to upload to ISE, see Add Cisco Provided Client Provisioning Resources from a Local Machine.
Native Supplicant Profile: Configure a supplicant profile for phones and tablets that contain settings for your network. For more information, see Create Native Supplicant Profiles.
NAC Agent or AnyConnect ISE Posture Profile: Configure the NAC agent and AnyConnect ISE Posture here when you don't want to create and distribute agent XML profiles. For more information about the AnyConnect ISE Posture agent and ISE Posture Profile Editor, see the AnyConnect Administrators Guide for your version of AnyConnect https://www.cisco.com/c/en/us/support/security/anyconnect-secure-mobility-client/products-installation-and-configuration-guides-list.html. For more information about the NAC agent profile, see Create an Agent Customization File for the Cisco NAC Agent.
After creating client provisioning resources, create client provisioning policies that apply the client provisioning resources to the endpoints. See Configure Client Provisioning Resource Policies.
Related Tasks
Configure Client Provisioning in Cisco ISE
Add Client Provisioning Resources from Cisco
Add Cisco Provided Client Provisioning Resources from a Local Machine
Add Customer Created Resources for AnyConnect from a Local Machine
Add Client Provisioning Resources from Cisco
You can add client provisioning resources from Cisco.com for AnyConnect and Cisco NAC Agents for Windows, MAC OSX clients, and Cisco Web agent. Depending on the resources that you select and available network bandwidth, Cisco ISE can take a few minutes to download client provisioning resources to Cisco ISE.
Before you begin
Ensure that you have configured the correct proxy settings in Cisco ISE.
Enable client provisioning in Cisco ISE.
Procedure
Step 1
Choose Policy > Policy Elements > Results > Client Provisioning > Resources.
Step 2
Choose Add > Agent resources from Cisco site.
Step 3
Select one or more required client provisioning resources from the list available in the Download Remote Resources dialog box.
Step 4
Click Save .
What to do next
After you have successfully added client provisioning resources to Cisco ISE, you can begin to configure client provisioning resource policies.
Add Cisco Provided Client Provisioning Resources from a Local Machine
You can add client provisioning resources from the local disk, which you previously downloaded from Cisco.
Before you begin
Be sure to upload only current, supported resources to Cisco ISE. Older, unsupported resources are likely to cause serious issues for client access.
If you are downloading the resource files manually from the Cisco.com, see the Section “Cisco ISE Offline Updates” in the Cisco ISE Release Notes.
Procedure
Step 1
Choose Policy > Policy Elements > Results > Client Provisioning > Resources.
Step 2
Choose Add > Agent resources from local disk.
Step 3
Choose Cisco Provided Packages from the Category drop-down list.
Step 4
Click Browse to the directory on your local machine where the resource file that you want to download to Cisco ISE resides.
You can add AnyConnect , Cisco NAC Agent, or Cisco Web Agent resources that you previously downloaded from Cisco to your local machine.
Step 5
Click Submit.
What to do next
After you have successfully added client provisioning resources to Cisco ISE, you can configure client provisioning resource policies.
Add Customer Created Resources for AnyConnect from a Local Machine
Add customer created resources like AnyConnect customization and localization packages and AnyConnect profiles from the local machine to Cisco ISE.
Before you begin
Ensure that customer created resources for AnyConnect are zipped files and available in your local disk.
Procedure
Step 1
Choose Policy > Policy Elements > Results > Client provisioning > Resources.
Step 2
Choose Add > Agent Resources from local disk.
Step 3
Choose Customer Created Packages from the Category drop-down list.
Step 4
Enter the name and description for AnyConnect resources.
Step 5
Click Browse to the directory on your local machine where the resource file that you want to download to Cisco ISE resides.
Step 6
Choose the following AnyConnect resources to upload to Cisco ISE:
AnyConnect customization bundle
AnyConnect localization bundle
AnyConnect profile
Advanced Malware Protection (AMP) Enabler Profile
Step 7
Click Submit.
The Uploaded AnyConnect Resources table displays AnyConnect resources that you add to Cisco ISE.
What to do next
Create AnyConnect agent profile
Create Native Supplicant Profiles
You can create native supplicant profiles to enable users to bring their own devices into the Cisco ISE network. When the user signs in, Cisco ISE uses the profile that you associated with that user’s authorization requirements to choose the necessary supplicant provisioning wizard. The wizard runs and sets up the user’s personal device to access the network.

Note
The provisioning wizard only configures interfaces which are active. Because of this, users with Wired and Wireless connections will not be provisioned for both interfaces, unless they are both active.
Before you begin
Open up TCP port 8905 to enable the installation of Cisco AnyConnect Agent, Cisco Web Agent, and supplicant provisioning wizard. For more information about port usage, see the “Cisco ISE Appliance Ports Reference” appendix in the Cisco Identity Services Engine Hardware Installation Guide.
Procedure
Step 1
Choose Policy > Policy Elements > Results > Client Provisioning > Resources.
Step 2
Choose Add > Native Supplicant Profile.
Step 3
Create a profile, using the procedure described in Native Supplicant Profile Settings .
What to do next
Enable self-provisioning capabilities that allow employees to directly connect their personal devices to the network, as described in the Support for multiple Guest Portals section.
Native Supplicant Profile Settings
Native Supplicant Profile Settings
When you choose Policy > Policy Elements > Results > Client Provisioning > Resources > Add > Native Supplicant Profile. The following settings are displayed.
Name: Enter the name of the native supplicant profile that you are creating.
Operating System: Choose which operating system(s) this profile should apply to from the drop-down list.
Each profile defines the settings for a network connection that Cisco ISE will apply to the client's native supplicant.
Wireless Profile
Configure a wireless profile, one for each SSID that you want to make available to the client:
SSID Name: Enter the name of the SSID that the client will connect to.
Proxy Auto-Config File URL: If the client will connect to a proxy to get the network configuration for its supplicant, enter the URL of that proxy server.
Proxy Host/IP: If the client will connect to a proxy to get the network configuration for its supplicant, enter the Host/IP of that proxy server.
Proxy Port: If the client will connect to a proxy to get the network configuration for its supplicant, enter the port of that proxy server.
Security: Choose either WPA or WPA2.
Allowed Procotol: Choose either PEAP or EAP-TLS.
Certificate Template: For TLS, choose one of the certificate templates. The certificate templates are defined in Administration > System Certificates > Certificate Authority > Certificate Templates.
Optional Settings
If you expand Optional, the following fields are displayed.
Windows Setings
Authentication Mode: Choose User, Machine or both as credentials for authorization.
Do not prompt user to authorize new servers or trusted certification authorities: If this option is enabled, the user is not prompted to authorize. User certificates are automatically accepted.
Use a different user name for the connection: This is applicable only for wireless profiles. Use a different user name for the connection.
Connect even if the network is not broadcasting its name (SSID): This is applicable only for wireless profiles. Connect to a network even when its SSID is not being broadcasted.
iOS Settings
Enable if target network is hidden: Check this check box if the target network is hidden.
Wired Profile
Allowed Protocol: Choose either PEAP or EAP-TLS.
Certificate Template: For TLS, choose one of the certificate templates. The certificate templates are defined in Administration > System Certificates > Certificate Authority > Certificate Templates.
Optional Settings
If you expand Optional, the following fields are also available for Windows clients.
Authentication Mode: Choose User, Machine or both as credentials for authorization.
Automatically use logon name and password (and domain if any): If you selected User for Authentication Mode, use the logon and password to without prompting the user, if that information is available.
Enable Fast Reconnect: Allow a PEAP session to resume without checking user credentials when the session resume feature is enabled in the PEAP protocol options, which is configured on Administration > System > Settings > Protocols > PEAP.
Enable Quarantine Checks: Check if the client has been quarantined.
Disconnect if server does not present cryptobinding TLV: Disconnect if cryptobinding TLV is not supported for the network connection.
Do not prompt user to authorize new servers or trusted certification authorities: Automatically accept user certificates; do not prompt the user.
Client Provisioning Without URL Redirection for Different Networks
Client provisioning without URL redirection is required when the third party NAC does not support CoA. You can perform client provisioning with and without URL redirection.

Note
For client provisioning with URL redirection, if the client machine has proxy settings configured, ensure that you add Cisco ISE to the list of exceptions in the browser settings. This setting is applicable for all flows, BYOD, MDM, Guest, and Posture that use URL redirection. For example, on Windows machines, do the following:
From Control Panel, click Internet Properties.
Select the Connections tab.
Click LAN settings.
Click Advanced from the Proxy server area.
Enter the IP addresses of the Cisco ISE nodes in the Exceptions box.
Click OK.
Given below are the steps you perform to provision an endpoint without redirection for different networks.
Dot1X EAP-TLS
Connect the Cisco ISE network with provisioned certification.
Open a browser window and type in the provisioning URL: provisioning.cisco.com.
Log into the CP portal via internal user, AD, LDAP, or SAML.
AnyConnect performs posture. The endpoint moves to the right network based on posture compliance.
Dot1X PEAP
Connect the Cisco ISE network with User Name and Password through NSP
Open a browser window and type in the provisioning URL: provisioning.cisco.com.
Log into the CP portal via internal user, AD, LDAP, or SAML
AnyConnect performs posture. The endpoint moves to the right network based on posture compliance.
MAB (Wired Networks)
Connect the Cisco ISE network.
Open a browser window and type in the provisioning URL: provisioning.cisco.com.
Log into the CP portal via internal user, AD, LDAP, or SAML.
AnyConnect performs posture. The endpoint moves to the right network based on posture compliance.
MAB (Wireless Networks)
Connect the Cisco ISE network
Open a browser window and type in the provisioning URL: provisioning.cisco.com.
Log into the CP portal via internal user, AD, LDAP, or SAML.
AnyConnect performs posture. Posture starts for wireless 802.1X only.
AMP Enabler Profile Settings
The following table describes the fields in the Advanced Malware Protection (AMP) Enabler Profile window. The navigation path is: Policy > Policy Elements > Results > Client Provisioning > Resources.
Click the Add drop-down arrow and select the AMP Enabler Profile.
Table 1. AMP Enabler Profile Page
Field Names
Usage Guidelines
Name
Enter the name of the AMP enabler profile that you want to create.
Description
Enter a description for the AMP enabler profile.
Install AMP Enabler
Windows Installer: Specify the URL of the local server that hosts the AMP for Windows OS software. The AnyConnect module uses this URL to download the .exe file to the endpoint. The file size is approximately 25 MB.
Mac Installer: Specify the URL of the local server that hosts the AMP for macOS software. The AnyConnect module uses this URL to download the .pkg file to the endpoint. The file size is approximately 6 MB.
The Check button communicates with the server to verify if the URL is valid. If the URL is valid, a "File found" message is displayed or else an error message is displayed.
Uninstall AMP Enabler
Uninstalls the AMP for endpoint software from the endpoint.
Add to Start Menu
Adds a shortcut for the AMP for endpoint software in the Start menu of the endpoint, after the AMP for endpoint software is installed on the endpoint.
Add to Desktop
Adds an icon for the AMP for endpoint software on the desktop of the endpoint, after the AMP for endpoint software is installed on the endpoint.
Add to Context Menu
Adds the Scan Now option in the right-click context menu of the endpoint, after the AMP for endpoint software is installed on the endpoint.
Create an AMP Enabler Profile Using the Embedded Profile Editor
Create an AMP Enabler Profile Using the Standalone Editor
Troubleshoot Common AMP Enabler Installation Errors
Create an AMP Enabler Profile Using the Embedded Profile Editor
You can create the AMP enabler profile using the Cisco ISE embedded profile editor or the standalone editor.
To create the AMP enable profile using the Cisco ISE embedded profile editor:
Before you begin
Download the AMP for Endpoint software from the SOURCEfire portal and host it on a local server.
Import the certificate of the server that hosts the AMP for endpoint software to the ISE certificate store by navigating to Administration > Certificates > Trusted Certificates.
Ensure that the AMP Enabler options are selected in the AnyConnect Module Selection and Profile Selection sections in the AnyConnect Configuration window ( Policy > Policy Elements > Results > Client provisioning > Resources > Add > AnyConnect Configuration > Select AnyConnect Package).
You must log in to the SOURCEfire portal, create policies for endpoint groups, and download the AMP for endpoint software. The software comes preconfigured with the policies that you have chosen. You must download two images, namely, the redistributable version of the AMP for endpoint software for Windows OS and AMP for endpoint software for macOS. The downloaded software is hosted on a server that is accessible from the enterprise network.
Procedure
Step 1
Choose Policy > Policy Elements > Results > Client Provisioning > Resources.
Step 2
Click the Add drop-down.
Step 3
Choose AMP Enabler Profile to create a new AMP enabler profile.
Step 4
Enter the appropriate values in the fields.
Step 5
Click Submit to save the profile in the Resources window.
Create an AMP Enabler Profile Using the Standalone Editor
To create an AMP enabler profile using the AnyConnect standalone editor.
Before you begin
You can create an AMP enabler profile by uploading the XML format of the profile using the AnyConnect 4.1 standalone editor.
Download the AnyConnect standalone profile editor for Windows and Mac OS from Cisco.com.
Launch the standalone profile editor and enter the fields as specified in the AMP Enabler Profile Settings.
Save the profile as an XML file in your local disk.
Ensure that the AMP Enabler options are selected in the AnyConnect Module Selection and Profile Selection sections in the AnyConnect Configuration window ( Policy > Policy Elements > Results > Client provisioning > Resources > Add > AnyConnect Configuration > Select AnyConnect Package).
Procedure
Step 1
Choose Policy > Policy Elements > Results > Client provisioning > Resources.
Step 2
Click Add.
Step 3
Choose Agent resources from local disk.
Step 4
Choose Customer Created Packages from the Category drop-down.
Step 5
Choose AMP Enabler Profile from the Type drop-down.
Step 6
Enter a Name and Description.
Step 7
Click Browse and select the saved profile (XML file) from the local disk. The following example shows a customized install file.
<?xml version="1.0" encoding="UTF-8"?>
<FAProfile xsi:noNamespaceSchemaLocation="FAProfile.xsd" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
 <FAConfiguration>
 <Install>
 <WindowsConnectorLocation>
https://fa_webserver/ACFA_Mac_FireAMPSetup.exe
</WindowsConnectorLocation>
 <MacConnectorLocation>
https://fa_webserver/ACFA_Mac_FireAMPSetup.exe 
</MacConnectorLocation>
 <StartMenu>true</StartMenu>
 <DesktopIcon>false</DesktopIcon>
 <ContextIcon>true</ContextIcon>
 </Install>
 </FAConfiguration>
</FAProfile>
The following example shows a customized uninstall file.
<?xml version="1.0" encoding="UTF-8"?>
<FAProfile xsi:noNamespaceSchemaLocation="FAProfile.xsd" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
 <FAConfiguration>
 <Uninstall>
 </Uninstall>
 </FAConfiguration>
</FAProfile>
Step 8
Click Submit.
The newly created AMP Enabler profile is displayed in the Resources page.
Troubleshoot Common AMP Enabler Installation Errors
When you enter the SOURCEfire URL in the Windows or MAC Installer text box and click Check, you might encounter any of the following errors:
Error Message: The certificate for the server containing the Mac/Windows installer file is not trusted by ISE. Add a trust certificate to Administration > Certificates > Trusted Certificates.
This error message appears if you have not imported the SOURCEfire trusted certificate in to the Cisco ISE certificate store. Obtain a SOURCEfire trusted certificate and import it in to the Cisco ISE trusted certificate store (Administration > Certificates > Trusted Certificates).
Error Message: The installer file is not found at this location, this may be due to a connection issue. Enter a valid path in the Installer text box or check your connection.
This error message appears when the server hosting the AMP for Endpoint software is down or if there is a typographic error in the Windows Installer or MAC Installer text box.
Error Message: The Windows/Mac installer text box does not contain a valid URL.
This error message appears when you enter a syntactically incorrect URL format.
Cisco ISE Support for Onboarding Chromebook Devices
Chromebook devices are managed devices (managed by the Google domain), unlike other devices (Apple, Windows, Android) and have limited onboarding support. Cisco ISE supports the onboarding of Chromebook devices on a network. Onboarding refers to the process of delivering the required settings and files to an endpoint such that it is able to connect securely to a network after authenticating with Cisco ISE. This process includes certificate provisioning and/or native supplicant provisioning. However, in Chromebook devices, you can only perform certificate provisioning. Native supplicant provisioning is done via the Google Admin Console.
Unmanaged Chromebook devices cannot be onboarded to a secure network.
The entities involved in the Chromebook onboarding process are the:
Google Administrator
ISE Administrator
Chromebook User/Device
Google Admin Console (Managed by the Google Administrator)
The Google administrator:
Secures the following licenses:
Google Apps Administrator license for the Google Admin Console configuration—URL: https://admin.google.com. The Google Admin Console enables an administrator to manage Google services for people in an organization.
Chromebook device management license—URL: https://support.google.com/chrome/a/answer/2717664?hl=en. A Chromebook device management license is used to configure settings and enforce policies for a specific Chromebook device. It gives the Google Administrator access to device settings to control user access, customize features, configure network access, and more.
Facilitates provisioning and enrolling of Chromebook devices with a Google device license.
Manages Chromebook devices through the Google Admin Console.
Sets up and manages the Wi-Fi network configuration for each Chromebook user.
Manages the Chromebook devices by configuring applications and forced extensions to be installed on the Chromebook device. Onboarding the Chromebook device requires the Cisco Network Setup Assistant extensions to be installed in the Chromebook device. This allows the Chromebook device to connect to Cisco ISE and install the ISE certificate. The extension is forcibly installed because the action of certificate installation is allowed only for managed devices.
Ensures that the Cisco ISE certificates are installed in the Google Admin Console to provide server validation and secure connection. The Google administrator decides whether a certificate should be generated for a device or a user. Cisco ISE provides options to:
Generate the certificate for a single user who does not share the Chromebook device.
Generate a certificate for a Chromebook device that is shared by multiple users. Refer to Step 5 in the Configure the Network and Force Extensions in the Google Admin Console section for the required additional configuration.
The Google Administrator installs the ISE server certificate so that ISE is trusted to perform the certificate provisioning on the Chromebook device and also to allow EAP-TLS certificate-based authentication. Google Chrome version 37 and higher supports certificate-based authentication for Chromebook devices. The google administrator needs to load the ISE provisioning application in the Google Admin Console and make it available to the Chromebook devices to get the certificate from ISE.
Ensures that the recommended Google host names are allowed in the ACL definition list configured in the WLC for SSL secure connections. Refer to the recommended and allowed host names in the Google Support page.
The ISE Administrator:
Defines the native supplicant profile for the Chromebook OS that includes the certificate template structure.
Creates the necessary authorization rules and client provisioning policies in Cisco ISE for Chromebook users.
The Chromebook User:
Wipes out the Chromebook device and enrolls it to the Google domain to secure the enforced policy that was defined by the Google administrator.
Receives the Chromebook device polices and the Cisco Network Setup Assistant forced extension installed by the Google Admin Console.
Connects to the provisioned SSID, as defined by the Google administrator, opens the browser, displays the BYOD pages, and starts the onboarding process.
The Cisco Network Setup Assistant installs a client certificate in the Chromebook device, which allows the device to perform EAP-TLS certificate-based authentication.
The Google Admin Console:
The Google Admin Console supports Chromebook device management and allows configuring a secure network and pushing Cisco Network Setup Assistant certificate management extensions to the Chromebook. The extension sends an SCEP request to Cisco ISE and installs the client certificate to allow secure connection and access to the network.
Best Practices for Using Chromebook Device in a Shared Environment
Chromebook Onboarding Process
Configure the Network and Force Extensions in the Google Admin Console
Configure Cisco ISE for Chromebook Onboarding
Wipe a Chromebook Device
Enroll Chromebook to the Google Admin Console
Connect Chromebook to the Cisco ISE Network for BYOD On Boarding
Google Admin Console - Wi-Fi Network Settings
Monitor Chromebook Device Activities in Cisco ISE
Troubleshoot Chromebook Device Onboarding
Best Practices for Using Chromebook Device in a Shared Environment
When a Chromebook device is used in a shared environment, such as schools and libraries, the Chromebook device is shared by different users. Some of the best practices that Cisco recommends include:
When onboarding a Chromebook device with a specific user (student or professor) name, the user's name will be populated in the Common Name (CN) in the Subject field of the certificate. Also, the shared Chromebook is listed in the My Devices portal under that specific user. Therefore, it is recommended for shared devices to use a shared credential when onboarding, so that devices show up only under the specific user’s My Devices portal listing. The shared account can be administered by the administrator or professor as a separate account to control shared devices.
The Cisco ISE administrator can create a custom certificate template for shared Chromebook devices and use it in the policy. For example, instead of using the standard certificate template that matches the Subject-Common Name (CN) value, you can specify a Name (for example, chrome-shared-grp1) in the certificate and the same name can be assigned to the Chromebook device. A policy can be designed to match the name to allow or deny access to a Chromebook device.
The Cisco ISE administrator can create an endpoint group with all the Chromebook devices’ MAC addresses that needs to go through Chromebook onboarding (devices for which access need to be restricted). The authorization rule should call this out along with device type Chromebook—this would allow access to be redirected to the NSP.
Chromebook Onboarding Process
The Chromebook onboarding process involves a series of steps:
Procedure
Step 1
Configure the Network, forced extensions, and ISE server certificate via the Google Admin Console .
Step 2
Configure Cisco ISE for Chromebook Onboarding .
Step 3
Wipe a Chromebook Device.
Step 4
Enroll Chromebook to the Google Admin Console.
Step 5
Install the Cisco ISE Client Certificate in the Chromebook Device .
Configure the Network and Force Extensions in the Google Admin Console
The Google administrator performs the following steps.
Procedure
Step 1
Log in to the Google Admin Console.
Enter the following URL: https://admin.google.com in the browser.
Enter the required username and password.
In the Welcome to Admin Console window, click Device Management.
On the Device Management window, click Network.
Step 2
Set up the Wi-Fi network for managed devices.
In the Networks window, click Wi-Fi.
Click Add Wi-Fi to add the required SSIDs. See Google Admin Console - Wi-Fi Network Settings for more information.
For MAB flows, create two SSIDs, one for the open network, and the other for certificate authentication. When you connect to the open network, Cisco ISE ACLs redirect you to the credentialed guest portal for authentication. After successful authentication, ACLs redirect you to the BYOD portal.
If the ISE certificate is issued by an intermediate CA, then you must map the intermediate certificate to the "Server certificate authority", instead of to the Root CA.
Click Add.
Step 3
Create the forced extensions.
In the Device Management window, under the Device Settings , click Chrome Management.
Click User Settings.
Scroll down, and in the Apps and Extensions section, in the Force-Installed Apps and Extensions option, click Manage Force-Installed Apps.
Step 4
Install the forced extensions.
In the Force-Installed Apps and Extensions window, click Chrome Web Store.
In the Search text box, type "Cisco Network Setup Assistant" to locate the extension.
The forced Cisco Network Setup Assistant extension of the Chromebook device requests the certificate from Cisco ISE, and installs the ISE certificate on the Chromebook device. The extension must be configured as force-installed because certificate installation is only allowed for managed devices. If the extension was not installed during the enrollment process, the Cisco ISE certificate cannot be installed.
See Cisco ISE Internationalization and Localization for more information about the languages that are supported by extensions.
Click Add to force install apps.
Click Save.
Step 5
(Optional) Define the configuration file to install a certificate in a Chromebook device which is shared by multiple users.
Copy and paste the following code in a Notepad file and save it to your local disk.
{
  "certType": {
    "Value": "system"
  }
}
Choose Device Management > Chromebook Management > App Management.
Click the Cisco Network Setup Assistant extension.
Click User Settings and choose your domain.
Click Upload Configuration File and choose the .txt file that you saved in your local disk.
Note 
In order for the Cisco Network Setup Assistant to create a certificate for a device that is shared by multiple users, you must add the Notepad file in the Google Admin Console. Otherwise, the Cisco NSA creates a certificate for a single user.
Click Save.
Step 6
(Optional) Install a certificate for a single user who does not share the Chromebook.
Choose Device Management > Network > Certificates.
In the Certificates window, click Add Certificate and upload the Cisco ISE certificate file.
What to do next
Configure Cisco ISE for Chromebook on board.
Configure Cisco ISE for Chromebook Onboarding
Before you begin
The Cisco ISE administrator must create the required policy in the Policy > Authorization window.
Given below is an example of an authorization policy:
Rule Name: Full_Access_After_Onboarding, Conditions: If RegisteredDevices AND Wireless_802.1x AND Endpoints:BYODRegistration EQUALS Yes AND Certificate: Subject Alternative Name Equals RadiusCalling-Station-ID AND Network Access: EAP-Authentication EQUALS EAP-TLS Then CompliantNetworkAccess.
The CompliantNetworkAccess is an authorization result configured in the Policy > Policy Elements > Results > Authorization > Authorization Profiles window.
Procedure
Step 1
Configure the Native Supplicant Profile (NSP) on Cisco ISE.
Choose Policy > Policy Elements > Results > Client Provisioning > Resources.
The Chromebook device is displayed in the Client Provisioning page for a fresh Cisco ISE installation. However, for upgrade, you should download posture updates from the Administration > System > Settings > Posture > Updates window.
Click Add > Native Supplicant Profile.
Enter the Name and Description.
In the Operating System field, choose Chrome OS All.
In the Certificate Template field, select the required certificate template.
Click Submit. Observe that the SSID is provisioned via the Google Admin Console and not through the native supplicant provisioning flow.
Step 2
Map the NSP in the Client Provisioning page.
Choose Policy > Client Provisioning.
Define the result.
Choose the in-built Native Supplicant configuration (Cisco-ISE-Chrome-NSP) in the Results of the client provisioning policy.
Or, create a new rule and ensure to choose the Result created for the Chromebook device.
Wipe a Chromebook Device
The Chromebook device must be wiped after the Google Admin Console is configured by the Google Administrator. The Chromebook user must wipe the device, which is a one-time process, to force extensions and configure the network settings. You can refer to the following URL: https://support.google.com/chrome/a/answer/1360642 for further information.
The Chromebook user performs the following steps:
Procedure
Step 1
Press Esc-Refresh-Power key combination. The screen displays a yellow exclamation point (!).
Step 2
Press Ctrl -D key combination to begin dev mode, then press Enter key. The screen displays a red exclamation point.
Step 3
Press Ctrl -D key combination. The Chromebook deletes its local data, returning to its initial state. The deletion takes approximately 15 minutes.
Step 4
When the transition completes, press the Spacebar key, then press the Enter key to return to verified mode.
Step 5
Enroll the Chromebook before signing in.
What to do next
Enroll Chromebook to the Google Admin Console.
Enroll Chromebook to the Google Admin Console
In order to provision a Chromebook device, the Chromebook user must first enroll in the Google Admin Console page and receive device policies and forced extensions.
Procedure
Step 1
Turn on the Chromebook device and follow the onscreen instructions until you see the sign on screen. Do not sign in yet.
Step 2
Before signing in to the Chromebook device, press Ctrl-Alt-E key combination. The Enterprise Enrolment screen appears.
Step 3
Enter your email address and click Next.
You will receive the following message: Your device has successfully been enrolled for enterprise management.
Step 4
Click Done.
Step 5
Enter the username and password from your Google admin welcome letter, or the username and password for an existing Google Apps user on your account that has eligibility to enroll.
Step 6
Click Enroll Device. You will receive a confirmation message that the device has been successfully enrolled.
Note that the Chromebook enrollment is a one-time process.
Connect Chromebook to the Cisco ISE Network for BYOD On Boarding
The procedure is for Dual SSID—To connect to a 802.x network using the EAP-TLS protocol, the Chromebook user performs the following steps:

Note
If you are using Dual SSID—When connecting from 802.x PEAP to an EAP-TLS network, connect to the network by entering your credentials in the network supplicant, not the web browser.
Procedure
Step 1
In the Chromebook, click Settings.
Step 2
In the Internet Connection section, click Provisioning Wi-Fi Network, and then click your network.
Step 3
The credentialed guest portal opens.
On the Sign On page, enter the Username and Password.
Click Sign-on.
Step 4
In the BYOD Welcome page, click Start.
Step 5
In the Device Information field, enter a name and a description for your device. For example, "Personal Devices: Jane's Chromebook Used for School or Shared Devices: Library Chromebook #1 or Classroom 1 Chromebook #1".
Step 6
Click Continue.
Step 7
Click Yes in the Cisco Network Setup Assistant dialog box to install the certificate to access the secure network.
If the Google Administrator configured secure Wi-Fi, the network connection should happen automatically. If it does not, choose the secure SSID from the list of available networks.
Chromebook users who have already enrolled in the domain, and have the Cisco Network Setup Assistant extension, can update the extension without waiting for the auto update. Manually update the extension by performing the following steps.
In your Chromebook, open the browser and enter the following URL: chrome://Extensions.
Check the Developer Mode check box.
Click Update Extensions Now.
Verify that the Cisco Network Setup Assistant extension version is 2.1.0.35 and higher.
Google Admin Console - Wi-Fi Network Settings
The Wi-Fi network configuration is used to configure an SSID in a customer network or to match the certificate using certificate attributes (for EAP-TLS). When the certificate is installed in the Chromebook, it is synchronized with the Google admin settings. Connection is established only when one of the defined certificate attributes matches the SSID configuration.
Listed below are the mandatory fields, specific to EAP-TLS, PEAP, and Open network flows, which the Google administrator configures to set up the Wi-Fi network in the Google Admin Console page (Device Management > Network > Wi-Fi > Add Wi-Fi) for each Chromebook user.
Field
EAP-TLS
PEAP
Open
Name
Enter the name of the network connection.
Enter the name of the network connection.
Enter the name of the network connection.
Service Set Identifier (SSID)
Enter the SSID (for example, tls_ssid).
Enter the SSID (for example, tls_ssid).
Enter the SSID (for example, tls_ssid).
This SSID Is Not Broadcast
Select the option.
Select the option.
Select the option.
Automatically Connect
Select the option.
Select the option.
Select the option.
Security Type
WPA/WPA2 Enterprise (802.1x)
WPA/WPA2 Enterprise (802.1x)
Open
Extensible Authentication Protocol
EAP-TLS
PEAP
—
Inner Protocol
—
Automatic
MSCHAP v2 (Select the option)
MD5
PAP
MSCHAP
GTC
—
Outer Identity
—
—
—
Username
Optional, either set a fixed value or use variables from the user login: ${LOGIN_ ID} or ${LOGIN_EMAIL}.
Enter the PEAP credentials to authenticate against ISE (internal ISE user/AD/other ISE identities) and the Password field.
—
Server Certificate Authority
Select the ISE certificate (imported from Device Management > Network > Certificates).
Select the ISE certificate (imported from Device Management > Network > Certificates).
—
Restrict Access to this Wi-Fi Network by Platform
Select Mobile Devices.
Select Chromebooks.
Select Mobile Devices.
Select Chromebooks.
—
Client Enrollment URL
Enter a URL to which the Chromebook device browser is redirected for users who are not enrolled. Configure ACLs on the Wireless LAN Controller for redirecting unenrolled users.
—
—
Issuer Pattern
An attribute in the certificate. Select at least one attribute from either the Issuer Pattern or Subject Pattern that should match installed certificate attributes. Specify certificate attributes that will be matched with the Chromebook device to accept the certificate.
Common Name: Refers to the Subject field of the certificate or the wildcard domain in the Subject field of the certificate, which must match the FQDN of the node.
Locality: Refers to the test locality (City) that is associated with the certificate subject.
Organization: Refers to the organization name that is associated with the certificate subject.
Organizational Unit: Refers to the organizational unit name that is associated with the certificate subject.
—
—
Subject Pattern
An attribute in the certificate. Select at least one attribute from either the Issuer Pattern or Subject Pattern that should match installed certificate attributes. Specify certificate attributes that will be matched with the Chromebook device to accept the certificate.
Common Name: Refers to the Subject field of the certificate or the wildcard domain in the Subject field of the certificate, which must match the FQDN of the node.
Locality: Refers to the test locality (City) that is associated with the certificate subject.
Organization: Refers to the organization name that is associated with the certificate subject.
Organizational Unit: Refers to the organizational unit name that is associated with the certificate subject.
—
—
Proxy Settings
Direct Internet Connection (Selected)
Manual Proxy Configuration
Automatic Proxy Configuration
Direct Internet Connection (Selected)
Manual Proxy Configuration
Automatic Proxy Configuration
—
Apply Network
By User
By User
—
Monitor Chromebook Device Activities in Cisco ISE
Cisco ISE provides various reports and logs to view information related to the authentication and authorization of Chromebook devices. You can run these reports either on demand or on regular basis. You can view the authentication method (for example, 802.1x) and authentication protocol (for example, EAP-TLS) in the Operations > RADIUS > Live Logs window. You can also identify the number of end points that are classified as Chromebook devices by navigating to the Work Centers > Network Access > Identities > Endpoints window.
Troubleshoot Chromebook Device Onboarding
This section describes problems that you may encounter while onboarding your Chromebook device.
Error: Unable to install the extension from the webstore—You cannot install the extension from the webstore. It will be automatically installed on your Chromebook device by the network administrator.
Error: Completed the installation of the certificate, however, unable to connect to the secure network—Verify on the Admin Console that the installed certificate matches defined Issuer/Subject attribute pattern. You can get information about installed certificate from: chrome://settings/certificates
Error: Displays an error message "Obtain Network Certificate", when trying to manually connect to the secure network on the Chromebook—Click Get New Certificate, the browser opens and redirects you to the ISE BYOD flow to install the certificate. However, if you are unable to connect to the secure network, verify on the Admin Console that the installed certificate matches the defined Issuer/Subject attribute pattern.
Error: Clicked Get New Certificate but is forwarded to the www.cisco.com site—User needs to be connected to the provisioning SSID, in order to be redirected to ISE and commence the certificate installation process. Be sure that the correct access list is defined for this network.
Error: Displays an error message "Only managed devices can use this extension. Contact helpdesk or network administrator"—Chromebook is a managed device and the extension must be configured as a forced install to gain access to the Chrome OS APIs to install the certificate on the device. Although, the extension can be installed manually by downloading it from the Google web store, an unenrolled Chromebook user cannot install the certificate.
An unenrolled Chromebook device can secure a certificate if the user belongs to the Domain Users group. The extension tracks the domain user on any device. However, the domain user can produce user-based authentication keys for an unenrolled device.
Error: Unclear of the order in which SSIDs are connected in the Google Admin Console—
If several SSIDs (PEAP and EAP-TLS) are configured on the Google Admin Console, after the certificate is installed and the attributes are matched, the Chrome OS automatically connects to the SSID with certificate-based authentication regardless of the order in which the SSIDs are configured.
If two EAP-TLS SSIDs match the same attribute, the connection depends on other factors such as signal strength and other network level signals, which cannot be controlled by the user or admin.
If multiple EAP-TLS certificates are installed on the Chromebook device and all of them match the certificate pattern configured on the Admin Console, the newest certificate will be used for the connection.
Create AnyConnect Configuration
AnyConnect configuration includes AnyConnect software and its associated configuration files. This configuration can be used in the client provisioning policy that allows users to download and install AnyConnect resources on the clients. If you use both ISE and an ASA to deploy AnyConnect, then the configurations must match on both headends.
To push the ISE posture module when connected to a VPN, Cisco recommends that you install the AnyConnect agent through Cisco Adaptive Security Appliance (ASA), which uses the Cisco's Adaptive Security Device Manager (ASDM) GUI tool. ASA does the installation using the VPN downloader. With the download, the ISE posture profile is pushed via ASA, and the discovery host needed for later provisioning the profile is available before the ISE posture module contacts ISE. Whereas with ISE, the ISE posture module will get the profile only after ISE is discovered, which could result in errors. Therefore, ASA is recommended to push the ISE posture module when connected to a VPN.

Note
When Cisco ISE is integrated with ASA, ensure that the Accounting mode is set to Single in ASA. Accounting data is sent to only one accounting server in Single mode.
Before you begin
Before configuring an AnyConnect configuration object, you must:
Download the AnyConnect Headend Deployment package and compliance module from Cisco Software download page.
Upload these resources to Cisco ISE (see Add Cisco Provided Client Provisioning Resources from a Local Machine).
(Optional) Add the customization and localization bundles (see Add Customer Created Resources for AnyConnect from a Local Machine).
Configure an AnyConnect posture agent profile (see Create a Posture Agent Profile).
Procedure
Step 1
Choose Policy > Policy Elements > Results > Client Provisioning > Resources.
Step 2
Click Add to create an AnyConnect configuration.
Step 3
Choose AnyConnect Configuration.
Step 4
Choose an AnyConnect Package, which you previously uploaded. For example, AnyConnectDesktopWindows xxx.x.xxxxx.x.
Step 5
Enter the name for the current AnyConnect Configuration. For example, AC Config xxx.x.xxxxx.x.
Step 6
Choose the compliance module, which you previously uploaded. For example, AnyConnectComplianceModulewindows x.x.xxxx.x
Step 7
Check one or more AnyConnect module check boxes. For example, choose one or more modules from the following: ISE Posture, VPN, Network Access Manager, Web Security, AMP Enabler, ASA Posture, Start Before Log on (only for Windows OS), and Diagnostic and Reporting Tool.
Note 
Un-checking the VPN module under AnyConnect Module Selection does not disable the VPN tile in the provisioned client. You must configure VPNDisable_ServiceProfile.xml to disable the VPN tile on AnyConnect GUI. In a system where AnyConnect is installed at the default location, you can find this file under C:\Program Files\Cisco. If AnyConnect is installed at a different location, then the file will be available under <AnyConnect Installed path>\Cisco.
Step 8
Choose AnyConnect profiles for selected AnyConnect modules. For example, ISE Posture, VPN, NAM, and Web Security.
Step 9
Choose AnyConnect customization and localization bundles.
Step 10
Click Submit.
Create a Posture Agent Profile
Use this procedure to create an AnyConnect or a NAC posture agent profile, where you can specify parameters that define the agent behavior for the posture protocol.
Procedure
Step 1
Choose Policy > Policy Elements > Results > Client Provisioning > Resources.
Step 2
Click Add.
Step 3
Choose NAC AnyConnect Agent Posture Profile.
Step 4
Under Posture Agent Profile Settings, choose AnyConnect or NAC Agent.
Step 5
Configure parameters for the following:
Cisco ISE posture agent behavior
Client IP Address Changes
Cisco ISE posture protocol
Step 6
Click Submit.
Client IP Address Refresh Configuration
The following table describes the fields in the NAC AnyConnect Posture Profile window, which allows you to configure parameters for the client to renew or refresh its IP address after VLAN change. Choose Policy > Policy Elements > Resilts > Client Provisioning > Resources > Add > NAC or AnyConnect Posture Profile.
Field Name
Default Value
Mode (Applies only to Cisco NAC Agent)
Usage Guidelines
VLAN detection interval
0, 5
Merge
This setting is the interval at which the agent check for the VLAN change.
For the Windows NAC agent, the default value is 0. By default, the access to authentication VLAN change feature is disabled for Windows. The valid range is 0 to 5 seconds.
For the Mac OS X agent, the default value is 5. By default, the access to authentication VLAN change feature is enabled with VlanDetectInteval as 5 seconds for Mac OS X. The valid range is 5 to 900 seconds.
0 —Access to Authentication VLAN change feature is disabled.
1 to 5—Agent sends an Internet Control Message Protocol (ICMP) or Address Resolution Protocol (ARP) query every 5 seconds.
6 to 900—An ICMP or ARP query is sent every x seconds.
Enable VLAN detection without UI (Not applicable for a Mac OS X client)
No
Merge
This setting enables or disables VLAN detection even when the user is not logged in.
No—VLAN detect feature is disabled.
Yes—VLAN detect feature is enabled.
Retry detection count
3
Merge
If the Internet Control Message Protocol (ICMP) or Address Resolution Protocol (ARP) polling fails, this setting configures the agent to retry x times before refreshing the client IP address.
Ping or ARP
0
The valid range is 0 to 2.
Merge
This setting specifies the method used for detecting the client IP address change.
0—Poll using ICMP
1—Poll using ARP
2—Poll using ICMP first, then (if ICMP fails) ARP
Maximum timeout for ping
1
The valid range is 1 to 10 seconds.
Merge
Poll using ICMP, and if there is no response within the specified time, then declare an ICMP polling failure.
Enable agent IP refresh
Yes (Default)
Overwrite
This setting specifies whether or not the client machine to renew or refresh its IP address after the switch (or WLC) changes the VLAN for the login session of the client on the respective switch port.
DHCP renew delay
0
The valid range is 0 to 60 seconds.
Overwrite
This setting specifies that the client machine waits before attempting to request for a new IP address from the network DHCP server.
DHCP release delay
0
The valid range is 0 to 60 seconds.
Overwrite
The setting specifies that the client machine waits before releasing its current IP address.

Note
Merge parameter values with existing agent profile settings or overwrite them to appropriately configure clients on Windows and Mac OS X clients for refreshing IP addresses.
Posture Protocol Settings
Field Name
Default Value
Usage Guidelines
Client Login Session Criteria
Cisco ISE looks at various elements when classifying the type of login session through which users access the internal network, including:
Client machine operating system and version
Client machine browser type and version
Group to which the user belongs
Condition evaluation results (based on applied dictionary attributes)
After Cisco ISE classifies a client machine, it uses client provisioning resource policies to ensure that the client machine is set up with an appropriate agent version, up-to-date compliance modules for antivirus and antispyware vendor support, and correct agent customization packages and profiles, if necessary.
Agent Download Issues on Client Machine
Agent Download Issues on Client Machine
Problem
The client machine browser displays a “no policy matched” error message after user authentication and authorization. This issue applies to user sessions during the client provisioning phase of authentication.
Possible Causes
The client provisioning policy is missing required settings.
Posture Agent Download Issues
Remember that downloading the posture agent installer requires the following:
The user must allow the ActiveX installer in the browser session the first time an agent is installed on the client machine. The client provisioning download page prompts for this.
The client machine must have Internet access.
Resolution
Ensure that a client provisioning policy exists in Cisco ISE. If yes, verify the policy identity group, conditions, and type of agent defined in the policy. Also ensure whether or not there is any agent profile configured under Policy > Policy Elements > Results > Client Provisioning > ResourcesAddNAC or AnyConnect Posture Profile, even a profile with all default values.
Try re-authenticating the client machine by bouncing the port on the access switch.
Provision Client Machines with the Cisco NAC Agent MSI Installer
You can place the MSI installer in a directory or a zip version of the same installer on the client machine along with an Agent configuration XML file (named NACAgentCFG.xml ) containing the appropriate Agent profile information required to coincide with your network.
Procedure
Step 1
Download the nacagentsetup-win.msi or nacagentsetup-win.zip installer file from the Cisco Software Download site from http://software.cisco.com/download/navigator.html and navigate to Security > Access Control and Policy > Cisco Identityt Services Engine > Cisco Identity Services Engine Software > Release 1.x.
Step 2
Place the nacagentsetup-win.msi file in a specific directory on the client machine (for example, C:\temp\nacagentsetup-win.msi):
If you are copying the MSI installer directly over to the client, place the nacagentsetup-win.msi file into a directory on the client machine from which you plan to install the Cisco NAC Agent.
If you are using the nacagentsetup-win.zip installer, extract the contents of the zip file into the directory on the client machine from which you plan to install the Cisco  NAC Agent.
Step 3
Place an Agent configuration XML file in the same directory as the Cisco NAC Agent MSI package.
If you are not connected to Cisco ISE, you can copy the NACAgentCFG.xml file from a client that has already been successfully provisioned. The file is located at C:\Program Files\Cisco\Cisco NAC Agent\NACAgentCFG.xml .
As long as the Agent configuration XML file exists in the same directory as the MSI installer package, the installation process automatically places the Agent configuration XML file in the appropriate Cisco NAC Agent application directory so that the agent can point to the correct Layer 3 network location when it is first launched.
Step 4
Open a Command prompt on the client machine and enter the following to execute the installation:
msiexec.exe /i NACAgentSetup-win.msi /qn /l*v c:\temp\agent-install.log
(The /qn qualifier installs the Cisco NAC Agent completely silently. The /l*v logs the installation session in verbose mode.)
To uninstall the NAC Agent, you can execute the following command:
msiexec /x NACAgentSetup-win-<version>.msi /qn
Installing a new version of the Agent using MSI will uninstall the old version and install the new version using the above commands.
Step 5
If you are using Altiris/SMS to distribute the MSI installer, place the Agent customization files in a sub-directory named “brand” in the directory “%TEMP%/CCAA”. When the Cisco NAC Agent is installed in the client, the customization is applied to the Agent. To remove the customization, send a plain MSI without the customization files.
Cisco ISE Posture Agents
Posture agents are applications that reside on client machines logging into the Cisco ISE network. Agents can be persistent (like the AnyConnect, Cisco NAC Agent for Windows and Mac OS X) and remain on the client machine after installation, even when the client is not logged into the network. Agents can also be temporal (like the Cisco NAC Web Agent, ), removing themselves from the client machine after the login session has terminated. In either case, the Agent helps the user to log in to the network, receive the appropriate access profile, and even perform posture assessment on the client machine to ensure it complies with network security guidelines before accessing the core of the network.

Note
Currently Cisco NAC Agent and Cisco NAC Web Agent support Client Provisioning Portal and Native Supplicant Provisioning. Cisco NAC Web Agent supports Central Web Authentication flow (CWA), but Cisco NAC Agent does not support CWA.
Posture Agent Discovery Request and Cisco ISE Response
Web Agent Posture Discovery Request and Cisco ISE Response
Agent Displays “Temporary Access”
Agent Fails to Initiate Posture Assessment
Posture Agent Discovery Request and Cisco ISE Response
Cisco ISE supports coexistence of AnyConnect and legacy Cisco ISE NAC agents on Windows and Mac OS x clients. Agents start the posture discovery probe only when there is any change in the network on the clients. Cisco ISE responds to the client's posture discovery probe based on the client provisioning policy and the corresponding agent will get the discovery response, which results in only one agent being active.
Based on the client provisioning policy, Cisco ISE differs in responding to the agents posture discovery probe as below:
If the endpoint is configured to use the legacy agent (Cisco ISE NAC agent for Windows and Mac OS x), the agent receives the discovery response with a string "X-perfigo-CAS=FQDN" in the existing format. AnyConnect stops discovery, if the discovery response is received for the legacy agent.
If the endpoint is configured to use AnyConnect, Cisco ISE responds in a different format. This will be the Cisco ISE Policy Service node FQDN and the AnyConnect Configuration URL, AnyConnect package location and version based on the client provisioning policy. The legacy agent stops discovery, if the response is received for AnyConnect.

Note
MAC OSX devices do not send requests to default gateway. These devices use only the following two probes:
discovery host
enroll.cisco.com
Ensure that you have configured correct DNS on MAC OSX devices to resolve enroll.cisco.com.
Web Agent Posture Discovery Request and Cisco ISE Response
The Web agent does not do discovery probe. If an endpoint is configured to use the Web agent, Cisco ISE responds using the format, X-ISE-PDP-WEBAGENT=FQDN". The webagent discovery response invokes the Cisco NAC Agent on the client, if the client provisioning policy is configured to use the Web agent.
Agent Displays “Temporary Access”
Problem
A client machine is granted “Temporary Access” to the network following login and authentication, but administrator and users expect full network access.
Possible Causes
This issue is applicable to any client machine login session using an agent to connect.
If the Cisco Agent is running on the client and:
The interface on the client machine goes down
The session is terminated
Resolution
The user must try to verify network connectivity and then try to log in again (and pass through posture assessment, as well) to attempt to reestablish the connection.
Agent Fails to Initiate Posture Assessment
Problem
The user is presented with a “Clean access server not available” message. This issue applies to any agent authentication session from Cisco ISE.
Possible Cause
This error could mean that either the session has terminated or Cisco ISE is no longer reachable on the network.
Resolution
The user can try to log into the network again.
The user can try to ping the default gateway or the RADIUS server IP address or FQDN supplied by the network administrator.
The administrator can check network access attributes for the user (like the assigned VLAN, ACLs, routing, execute the nslookup command on the client, client machine DNS connection, and so on).
Cisco AnyConnect Secure Mobility
Cisco ISE uses an integrated module in Cisco AnyConnect for Cisco ISE posture requirements. Cisco AnyConnect is the posture agent that coexists with Cisco ISE NAC Agent on the same endpoint. Only one of the agents is active at a time.

Note
AnyConnect does not support CWA flow. You can't provision AnyConnect from the Guest portal using the Require guest device compliance field in the Work CentersGuest Access > Portals & Components > Guest Portals > Create, Edit, or Duplicate > Portal Behavior and Flow Settings > Guest Device Compliance Settings window. Instead, provision AnyConnect on the Client Provisioning portal. This method results in redirection as configured in authorization permissions.
When you integrate Cisco ISE with the Cisco AnyConnect agent, Cisco ISE:
Serves as a staging server to deploy Cisco AnyConnect Version 4.0 and future releases
Interacts with the AnyConnect posture component for Cisco ISE posture requirements
Supports deployment of Cisco AnyConnect profiles, customization and language packages, and OPSWAT library updates for Windows and Mac OS X operating systems
Supports Cisco AnyConnect and legacy agents at the same time

Note
When switching network mediums, you must change the default gateway so the posture module can detect the changed network and reassess the client.
Cisco NAC Agent XML File Installation Directories
In a system where the Cisco NAC Agent installed at the default location, you can find the following .xml files in the following directories:
The nac_login.xml file is available in the “C:\Program Files\Cisco\Cisco NAC Agent\UI\nac_divs\login” directory.
In the nacStrings_xx.xml file, the “xx” indicates the locale. You can find a complete list of the files in the “C:\Program Files\Cisco\Cisco NAC Agent\UI\cues_utility” directory.
If the agent is installed at a different location, then the files would be available at “<Agent Installed path>\Cisco\Cisco NAC Agent\UI\nac_divs\login” and “<Agent Installed path>\Cisco\Cisco NAC Agent\cues_utility”.
Cisco NAC Agent for Windows Clients
The Cisco NAC Agent provides the posture assessment and remediation for client machines.
Users can download and install the Cisco NAC Agent (read-only client software), which can check the host registry, processes, applications, and services. The Cisco NAC Agent can be used to perform Windows updates or antivirus and antispyware definition updates, launch qualified remediation programs, distribute files uploaded to the Cisco ISE server, distribute website links to web sites for users to download files to fix their system, or simply distribute information and instructions.
Cisco strongly recommends that you ensure that the latest Windows hotfixes and patches are installed on Windows XP clients so that the Cisco NAC Agent can establish a secure and encrypted communication with Cisco ISE (via SSL over TCP).
Uninstall the Cisco NAC Agent from Windows 7 and Earlier Clients
Uninstall the Cisco NAC Agent in a Windows 8 Client
Windows 8 Metro and Metro App Support —Toast Notifications
Uninstall the Cisco NAC Agent from Windows 7 and Earlier Clients
The Cisco NAC Agent installs to C:\Program Files\Cisco\Cisco NAC Agent\ on the Windows client.
You can uninstall the agent in the following ways:
By double-clicking the Uninstall Cisco NAC Agent desktop icon.
By going to Start Menu > Programs > Cisco Systems > Cisco Clean Access > Uninstall Cisco NAC Agent
By going to Start Menu > Control Panel > Add or Remove Programs > Cisco NAC Agent and uninstall the Cisco NAC Agent.
Uninstall the Cisco NAC Agent in a Windows 8 Client
You can uninstall Cisco NAC Agent in a Windows 8 client in Metro mode.
Procedure
Step 1
Switch to Metro Mode.
Step 2
Right-Click Cisco NAC Agent tile.
Step 3
Select Un-Install from the options available at the bottom of the screen.
Step 4
The system automatically switches to Desktop mode and opens Add/Remove control panel.
Step 5
In the Add/Remove control panel, perform one of the following:
Double Click Cisco NAC Agent and click Uninstall.
Select Cisco NAC Agent and click Uninstall.
Right Click Cisco NAC Agent and select Uninstall.
Windows 8 Metro and Metro App Support —Toast Notifications
The Enable Toast Notification option is available on the Cisco NAC Agent Tray Icon that can send relevant notifications to users on Windows 8 clients .
In Cisco NAC Agent scenarios where the user does not get network access, like "Remediation Failed" or "Network Access expired", the Agent displays the following toast notification:Network not available, Click "OK" to continue.
To get more details, you can select the toast and you will be redirected to Desktop mode and the Cisco NAC agent dialog is displayed.
Toast Notification is displayed for all positive recommended actions that the user needs to perform to gain network access. The following are some examples:
For Network Acceptance policy, toast will be displayed as: "Click Accept to gain network access"
For Agent/Compliance Module Upgrade, toast will be displayed as: "Click OK to Upgrade/Update"
In the "user logged out" event, when "Auto Close" option for Logoff is not enabled in Clean Access Manager (CAM), toast notification is provided. This toast enables the users to know that they have been logged out and that they need to login again to get network access.
Cisco NAC Agent for Macintosh Clients
The Cisco NAC OS X Agent provides the posture assessment and remediation for Macintosh client machines.
Users can download and install the Cisco NAC OS X Agent (read-only client software), which can check antivirus and antispyware definition updates.
After users log in to the Cisco NAC OS X Agent, the agent gets the requirements that are configured for the user role and the operating system from the Cisco ISE server, checks for required packages and sends a report back to the Cisco ISE server. If requirements are met on the client, the user is allowed network access. If requirements are not met, the agent presents a dialog to the user for each requirement that is not satisfied. The dialog provides the user with instructions and the action to take for the client machine to meet the requirement. Alternatively, if the specified requirements are not met, users can choose to accept restricted network access while the user tries to remediate the client system.
Uninstall the Cisco NAC Agent from Macintosh Clients
Uninstall the Cisco NAC Agent from Macintosh Clients
You can uninstall the Cisco NAC Agent for Mac OS X clients by running the uninstall script as follows:
Procedure
Step 1
Open the navigator pane and navigate to <local drive ID> > Applications.
Step 2
Highlight and right-click the CCAAgent icon to bring up the selection menu.
Step 3
Choose Show Package Contents and double-click NacUninstall to uninstall the Cisco NAC Agent on Mac OS X.
Cisco Web Agent
The Cisco Web Agent provides temporal posture assessment for client machines.
Users can launch the Cisco Web Agent executable, which installs the Web Agent files in a temporary directory on the client machine via ActiveX control or Java applet.
After users log in to the Cisco Web Agent, the Web Agent gets the requirements that are configured for the user role and the operating system from the Cisco ISE server, checks the host registry, processes, applications, and services for required packages and sends a report back to the Cisco ISE server. If requirements are met on the client machine, the user is allowed network access. If requirements are not met, the Web Agent presents a dialog to the user for each requirement that is not satisfied. The dialog provides the user with instructions and the action to take for the client machine to meet the requirement. Alternatively, if the specified requirements are not met, users can choose to accept the restricted network access while they try to remediate the client system so that it meets requirements for the user login role.

Note
ActiveX is supported only on the 32-bit versions of Internet Explorer. You cannot install ActiveX on a Firefox web browser or on a 64-bit version of Internet Explorer.
Cisco NAC Agent Logs
In the Cisco NAC Agent for Windows, right-click the Agent Tray Icon and then click Log Packager to run the support package and collect the agent logs.
In the Cisco NAC Agent for Cisco NAC OS X, in the Tools menu, right-click the Agent icon and click the Collect Support Logs option to collect the agent logs and support information. The collected information is available as a zip file. The user can save the file by choosing the file location and filename. By default the file is saved on the desktop with the filename as CiscoSupportReport.zip.
If the agent crashes or hangs, you can run the CCAAgentLogPackager.app to collect the logs. This file is available at /Applications/CCAAgent.app. You can right-click CCAAgent.app, select Show Package Contents and double-click CCAAgentLogPackager to collect the support information.
Create an Agent Customization File for the Cisco NAC Agent
An agent customization file allows you to customize the logo, fields, and message text contained in a Cisco NAC Agent screen dialog to suit your specific Windows client network access requirements.
You can create a customization package as a .zip file that contains an XML descriptor file and another .zip file with the contents comprising the customized options.
Procedure
Step 1
Assemble the files required to comprise your Agent screen customization package:
Customized nac_login.xml file
Customized corporate/company logo as a .gif file
One or more customized nacStrings_xx.xml files
Customized updateFeed.xml descriptor file
Step 2
Create a zip file called “brand-win.zip” that contains the assembled files. For example, in a Linux or Unix environment, execute the following: zip -r brand-win.zip nac_login.xml nac_logo.gif nacStrings_en.xml nacStrings_cy.xml nacStrings_el.xml
Step 3
Create a “custom.zip” file that contains an appropriate updateFeed.xml descriptor file and the .zip file created above. For example, in a Linux or Unix environment, execute the following: zip -r custom.zip updateFeed.xml brand-win.zip
Step 4
Save the resulting “custom.zip” file to a location on a local machine that you can access when uploading the file to Cisco ISE.
Custom nac_login.xml File Template
Custom nacStrings_xx.xml File Template
Sample Extended nacStrings_xx.xml File
UpdateFeed.xml Descriptor File Template
Example XML File Generated Using the Create Profile Function
Custom nac_login.xml File Template
The nac_login.xml file is one of the files that is required in your Agent screen customization package, which allows you to customize the logo, fields, and message text contained in a Cisco NAC Agent dialog, like the Properties window, to suit your specific Windows client network access requirements.
Use the following template to construct an appropriate “nac_login.xml” file to customize the logo, fields, and message text contained in a Cisco NAC Agent screen.
The following example shows a customized file.
<tr class="nacLoginMiddleSectionContainerInput"> 
<td colspan="2"> 
<fieldset width="100%" id="nacLoginCustomAlert" 
style="display:block" class="nacLoginAlertBox"> 
<table width="100%"> 
<tr> 
<td id="nacLoginCustomAlert.img" valign="top" width="32px"> 
<img src="./cues_icons/Status_warning_icon.png" align="absmiddle" 
 onload="cuesFixPNG(null,this)"></img> 
</td> 
<td id="nacLoginCustomAlert.content" class="nacLoginAlertText"> 
<cues:localize key="login.customalert"/> 
</td> 
</tr> 
</table> 
</fieldset> 
</td> 
</tr> 
<tr id="nacLoginRememberMe" style="visibility:hidden"> 
<td> 
<cues:localize key="cd.nbsp"/> 
</td> 
<td class="cuesLoginField"> 
<nobr> 
<input type="checkbox" alt="" title="" name="rememberme" 
id="rememberme" checked="true"/> 
<cues:localize key="login.remember_me"/> 
</nobr> 
</td> 
</tr> 
Custom nacStrings_xx.xml File Template
This is one of the files that is required in your Agent screen customization package, allows you to customize the logo, fields, and message text contained in a Cisco NAC Agent dialog, like the Properties screen, to suit your specific Windows client network access requirements.
Use the following template to construct a one or more nacStrings_xx.xml files, where xx is a two-character identifier for the specific language.
The following example shows a customized nacStrings_xx.xml file.
<cueslookup:appstrings xmlns:cueslookup="http://www.cisco.com/cues/lookup"> 
<cueslookup:name key="nac.brand.legal_name">Cisco Systems, Inc.</cueslookup:name> 
<cueslookup:name key="nac.brand.full_name">Cisco Systems</cueslookup:name> 
<cueslookup:name key="nac.brand.short_name">Cisco</cueslookup:name> 
<cueslookup:name key="nac.brand.abbreviation">Cisco</cueslookup:name> 
<cueslookup:name key="nac.copyright">Copyright </cueslookup:name> 
<cueslookup:name key="nac.copyright.period">2009-2013</cueslookup:name> 
<cueslookup:name key="nac.copyright.arr">All Rights Reserved</cueslookup:name> 
<cueslookup:name key="updateagent.rqst">NAC Agent %1 is available.%br% Do you want to install this update now?</cueslookup:name> 
<cueslookup:name key="updateagent.rqst.retry">Unable to update NAC Agent. Please try again.</cueslookup:name> 
<cueslookup:name key="downloadagent.report">Downloading the update of NAC Agent.</cueslookup:name> 
<cueslookup:name key="downloadagent.packagename.label">Package Name</cueslookup:name> 
<cueslookup:name key="downloadagent.completed.label">Completed</cueslookup:name> 
<cueslookup:name key="downloadagent.completed.value">%1 of %2 bytes</cueslookup:name> 
<cueslookup:name key="downloadagent.speed.label">Speed</cueslookup:name> 
<cueslookup:name key="downloadagent.speed.value">%1 bytes/sec</cueslookup:name> 
<cueslookup:name key="updateopswat.rqst">NAC Agent Posture component version %1 is available.%br% Do you want to install this update now?</cueslookup:name> 
<cueslookup:name key="updateopswat.rqst.retry">Unable to update NAC Agent Posture component. Please try again.</cueslookup:name> 
<cueslookup:name key="downloadopswat.report">Downloading the update of NAC Agnet Posture component.</cueslookup:name> 
<cueslookup:name key="login.productname">Education First Compliance Check</cueslookup:name> 
<cueslookup:name key="login.version">Version</cueslookup:name> 
<cueslookup:name key="login.opswatversion">Posture Component Version</cueslookup:name> 
<cueslookup:name key="login.username">Enter your username</cueslookup:name> 
<cueslookup:name key="login.password">Enter your PIN</cueslookup:name> 
<cueslookup:name key="login.remember_me">Remember Me</cueslookup:name> 
<cueslookup:name key="login.server">Server</cueslookup:name> 
<cueslookup:name key="login.customalert">Custom EF package version 2.1.1.1 with EF Logo</cueslookup:name> 
<cueslookup:name key="login.Too many users using this account">This account is already active on another device</cueslookup:name> 
<cueslookup:name key="login.differentuser">Login as Different User</cueslookup:name> 
<cueslookup:name key="login.removeoldest">Remove Oldest Login Session</cueslookup:name> 
<cueslookup:name key="menu_devtools">Dev Tools</cueslookup:name> 
<cueslookup:name key="c.sso.ad">Performing Windows Domain automatic login for NAC</cueslookup:name> 
<cueslookup:name key="c.sso.generic">Unknown authentication type</cueslookup:name> 
<cueslookup:name key="c.sso.macauth">Performing device filter automatic login for NAC</cueslookup:name> 
<cueslookup:name key="c.sso.vpn">Performing automatic login into NAC environment for remote user</cueslookup:name> 
<cueslookup:name key="c.title.status.authenticating">Authenticating User</cueslookup:name> 
<cueslookup:name key="c.title.status.answeringchallenge">Sending Response</cueslookup:name> 
<cueslookup:name key="c.title.status.checking">Checking Requirements</cueslookup:name> 
<cueslookup:name key="c.title.status.checkcomplete">System Check Complete</cueslookup:name> 
<cueslookup:name key="c.title.status.loggedin">NAC Process Completed</cueslookup:name> 
<cueslookup:name key="c.title.status.netaccess.none">NAC Process Completed</cueslookup:name> 
<cueslookup:name key="c.title.status.netpolicy">Network Usage Policy</cueslookup:name> 
<cueslookup:name key="c.title.status.properties">Agent Properties &#x0026; Information</cueslookup:name> 
<cueslookup:name key="c.title.status.remediating">Remediating System</cueslookup:name> 
<cueslookup:name key="c.title.status.session.expired">Session has Expired</cueslookup:name> 
<cueslookup:name key="c.title.status.update.available">Update Agent</cueslookup:name> 
<cueslookup:name key="c.title.status.update.downloading">Downloading Agent</cueslookup:name> 
<cueslookup:name key="c.title.status.update.opswat.available">Update Posture Component</cueslookup:name> 
<cueslookup:name key="c.title.status.update.opswat.downloading">Downloading Posture Component</cueslookup:name> 
<cueslookup:name key="scanning">Checking</cueslookup:name> 
<!-- <cueslookup:name key="scanningitemcomplete">Finished Checking</cueslookup:name> --> 
<cueslookup:name key="ph.about">About</cueslookup:name> 
<cueslookup:name key="ph.cancel">Cancel</cueslookup:name> 
<!-- <cueslookup:name key="ph.details">Details</cueslookup:name> --> 
<cueslookup:name key="ph.logout">Logout</cueslookup:name> 
<cueslookup:name key="title_remediating">Remediating System</cueslookup:name> 
<cueslookup:name key="title_check_conplete">System Check Complete</cueslookup:name> 
<cueslookup:name key="title_full_access_granted">Logged In</cueslookup:name> 
<cueslookup:name key="title_access_denied">Network Access Denied</cueslookup:name> 
<cueslookup:name key="tempNetAccess">Temporary Network Access</cueslookup:name> 
<cueslookup:name key="announcePleaseBePatient">Please be patient while your system is checked against the network security policy 
</cueslookup:name> 
<cueslookup:name key="bttn.accept">Accept</cueslookup:name> 
<cueslookup:name key="bttn.apply">Apply</cueslookup:name> 
<cueslookup:name key="bttn.cancel">Cancel</cueslookup:name> 
<cueslookup:name key="bttn.continue">Update Later</cueslookup:name> 
<cueslookup:name key="bttn.close">Close</cueslookup:name> 
<cueslookup:name key="bttn.detailshide">Hide Compliance</cueslookup:name> 
<cueslookup:name key="bttn.detailsshow">Show Compliance</cueslookup:name> 
<cueslookup:name key="bttn.download">Download</cueslookup:name> 
<cueslookup:name key="bttn.guestAccess">Guest Access</cueslookup:name> 
<cueslookup:name key="bttn.go2link">Go To Link</cueslookup:name> 
<cueslookup:name key="bttn.launch">Launch</cueslookup:name> 
<cueslookup:name key="bttn.login">Log In</cueslookup:name> 
<cueslookup:name key="bttn.next">Re-Scan</cueslookup:name> 
<cueslookup:name key="bttn.ok">OK</cueslookup:name> 
<cueslookup:name key="bttn.propertieshide">Hide Properties</cueslookup:name> 
<cueslookup:name key="bttn.reject">Reject</cueslookup:name> 
<cueslookup:name key="bttn.remediate">Repair</cueslookup:name> 
<cueslookup:name key="bttn.rescan">Rescan</cueslookup:name> 
<cueslookup:name key="bttn.reset">Reset</cueslookup:name> 
<cueslookup:name key="bttn.restrictedNet">Get Restricted NET access This one comes down from the network</cueslookup:name> 
<cueslookup:name key="bttn.savereport">Save Report</cueslookup:name> 
<cueslookup:name key="bttn.skip">Skip</cueslookup:name> 
<cueslookup:name key="bttn.skipao">Skip All Optional</cueslookup:name> 
<cueslookup:name key="bttn.submit">Submit</cueslookup:name> 
<cueslookup:name key="bttn.update">Update</cueslookup:name> 
<cueslookup:name key="cd.days"> 
days 
</cueslookup:name> 
<cueslookup:name key="cd.nbsp"> 
&#xA0; 
</cueslookup:name> 
<cueslookup:name key="cd.tempNetAccess.counting"> 
There is approximately %1 left until your temporary network access expires 
</cueslookup:name> 
<cueslookup:name key="cd.tempNetAccess.expired"> 
Your Temporary Network Access has Expired! 
</cueslookup:name> 
<cueslookup:name key="cd.tempNetAccessShort.counting"> 
%1 left 
</cueslookup:name> 
<cueslookup:name key="cd.tempNetAccessShort.expired"> 
Expired! 
</cueslookup:name> 
<cueslookup:name key="cd.window.counting"> 
This window will close in %1 secs 
</cueslookup:name> 
<cueslookup:name key="dp.status.fullNetAccess"> 
Full Network Access 
</cueslookup:name> 
<cueslookup:name key="dp.status.fullNetAccess.verbose"> 
Your device conforms with all the security policies for this protected 
network 
</cueslookup:name> 
<cueslookup:name key="dp.status.fullNetAccessWarn.verbose"> 
Only optional requirements are failing. 
It is recommended that you update your system at 
your earliest convenience. 
</cueslookup:name> 
<cueslookup:name key="dp.status.iprefresh.progress.verbose"> 
Refreshing IP address. Please Wait... 
</cueslookup:name> 
<cueslookup:name key="dp.status.iprefresh.complete.verbose"> 
Refreshing IP address succeeded. 
</cueslookup:name> 
<cueslookup:name key="dp.status.vlanchange.progress.verbose"> 
Connecting to protected Network. Please Wait... 
</cueslookup:name> 
<cueslookup:name key="dp.status.guestNetAccess"> 
Guest Network Access 
</cueslookup:name> 
<cueslookup:name key="dp.status.noNetAccess"> 
Network Access Denied 
</cueslookup:name> 
<cueslookup:name key="dp.status.noNetAccess.verbose"> 
There is at least one mandatory requirement failing. 
You are required to update your system before 
you can access the network. 
</cueslookup:name> 
<cueslookup:name key="dp.status.rejectNetPolicy.verbose"> 
Network Usage Terms and Conditions are rejected. You will not be 
allowed to access the network. 
</cueslookup:name> 
<cueslookup:name key="dp.status.RestrictedNetAccess"> 
Restricted Network Access granted. 
</cueslookup:name> 
<cueslookup:name key="dp.status.RestrictedNetAccess.verbose"> 
You have been granted restricted network access because your device 
did not conform with all the security policies for this protected 
network and you have opted to defer updating your system. It is recommended 
that you update your system at your earliest convenience. 
</cueslookup:name> 
<cueslookup:name key="dp.status.temporaryNetAccess"> 
Temporary Network Access 
</cueslookup:name> 
<cueslookup:name key="dp.status.temporaryNetAccess.bepatient.verbose"> 
Please be patient while your system is checked against the network security policy. 
</cueslookup:name> 
<cueslookup:name key="dp.status.pra.mandatoryfailure"> 
Performing Re-assessment 
</cueslookup:name> 
<cueslookup:name key="dp.status.pra.mandatoryfailure.verbose"> 
There is at least one mandatory requirement failing. 
You are required to update your system otherwise 
your network access will be restricted. 
</cueslookup:name> 
<cueslookup:name key="dp.status.pra.optionalfailure"> 
Performing Re-assessment 
</cueslookup:name> 
<cueslookup:name key="dp.status.pra.optionalfailure.verbose"> 
Only optional requirements are failing. 
It is recommended that you update your system at 
your earliest convenience. 
</cueslookup:name> 
<cueslookup:name key="dp.status.SessionTimeout"> 
Logged out 
</cueslookup:name> 
<cueslookup:name key="dp.status.SessionTimeout.verbose"> 
Temporary Access to the network has expired. 
</cueslookup:name> 
<cueslookup:name key="dp.status.Unauthenticated"> 
Logged out 
</cueslookup:name> 
<cueslookup:name key="dp.status.Unauthenticated.verbose"> 
&#xA0; 
</cueslookup:name> 
<cueslookup:name key="ia.status.checkcomplete"> 
Finished Checking Requirements 
</cueslookup:name> 
<cueslookup:name key="ia.status.check.inprogress"> 
Please be patient while we determine if your system is compliant with the security policy 
</cueslookup:name> 
<cueslookup:name key="ia.status.check.inprogress.01"> 
Checking %1 out of %2 
</cueslookup:name> 
<cueslookup:name key="ia.status.netpolicy"> 
Access to the network requires that you view and accept the following 
Network Usage Policy 
</cueslookup:name> 
<cueslookup:name key="ia.status.netpolicylinktxt"> 
Network Usage Policy Terms and Conditions 
</cueslookup:name> 
<cueslookup:name key="ia.status.remediate.inprogress"> 
Remediating 
</cueslookup:name> 
<cueslookup:name key="ia.status.remediate.start"> 
Please Remediate 
</cueslookup:name> 
<cueslookup:name key="ia.status.remediate.checkinprogress"> 
Checking for compliance with Requirement 
</cueslookup:name> 
<cueslookup:name key="ia.table.name"> 
Name 
</cueslookup:name> 
<cueslookup:name key="ia.table.location"> 
Location 
</cueslookup:name> 
<cueslookup:name key="ia.table.software"> 
Software 
</cueslookup:name> 
<cueslookup:name key="ia.table.software.programs"> 
program(s) 
</cueslookup:name> 
<cueslookup:name key="ia.table.update"> 
Update 
</cueslookup:name> 
<cueslookup:name key="ia.table.locationcode.nochange"> 
Do not change current setting 
</cueslookup:name> 
<cueslookup:name key="ia.table.locationcode.notifybeforedownload"> 
Notify before download 
</cueslookup:name> 
<cueslookup:name key="ia.table.locationcode.notifybeforeinstall"> 
Notify before install 
</cueslookup:name> 
<cueslookup:name key="ia.table.locationcode.scheduledinstallation"> 
Download and installation 
</cueslookup:name> 
<cueslookup:name key="ia.table.locationcode.forcenotifybeforedownload"> 
Change to notify before download 
</cueslookup:name> 
<cueslookup:name key="ia.table.locationcode.forcenotifybeforeinstall"> 
Change to notify before installation 
</cueslookup:name> 
<cueslookup:name key="ia.table.locationcode.forcescheduledinstall"> 
Change to download and installation 
</cueslookup:name> 
<cueslookup:name key="ia.table.description"> 
Description 
</cueslookup:name> 
<cueslookup:name key="scs.table.title"> 
Security Compliance Summary 
</cueslookup:name> 
<cueslookup:name key="scs.table.header1.scan_rslt"> 
Scan Result 
</cueslookup:name> 
<cueslookup:name key="scs.table.header1.pack_name"> 
Requirement Name 
</cueslookup:name> 
<cueslookup:name key="scs.table.header1.pack_details"> 
Requirement Description - Remediation Suggestion 
</cueslookup:name> 
<cueslookup:name key="scs.table.data.mandatory"> 
Mandatory 
</cueslookup:name> 
<cueslookup:name key="scs.table.data.optional"> 
Optional 
</cueslookup:name> 
<cueslookup:name key="scs.table.data.pass"> 
Passed 
</cueslookup:name> 
<cueslookup:name key="ia.rem_inst_optional_download"> 
Please download and install the optional software before accessing the network 
</cueslookup:name> 
<cueslookup:name key="ia.rem_inst_mandatory_download"> 
Please download and install the required software before accessing the network 
</cueslookup:name> 
<cueslookup:name key="ia.rem_inst_optional_launch"> 
Please launch the optional remediation program(s) before accessing the network 
</cueslookup:name> 
<cueslookup:name key="ia.rem_inst_mandatory_launch"> 
Please launch the required remediation program(s) before accessing the network 
</cueslookup:name> 
<cueslookup:name key="ia.rem_inst_optional_opswat_av"> 
Please update the virus definition file of the specified antivirus software before accessing the network (optional) 
</cueslookup:name> 
<cueslookup:name key="ia.rem_inst_mandatory_opswat_av"> 
Please update the virus definition file of the specified antivirus software before accessing the network (required) 
</cueslookup:name> 
<cueslookup:name key="ia.rem_inst_optional_opswat_as"> 
Please update the spyware definition file of the specified anti-spyware software before accessing the network (optional) 
</cueslookup:name> 
<cueslookup:name key="ia.rem_inst_mandatory_opswat_as"> 
Please update the spyware definition file of the specified anti-spyware software before accessing the network (required) 
</cueslookup:name> 
<cueslookup:name key="ia.rem_inst_optional_win_update"> 
Please download and install the optional windows updates before accessing the network 
</cueslookup:name> 
<cueslookup:name key="ia.rem_inst_mandatory_win_update"> 
Please download and install the required windows updates before accessing the network 
</cueslookup:name> 
<cueslookup:name key="ia.rem_inst_auto_launch_prog"> 
Launching Remediation Program(s)... 
</cueslookup:name> 
<cueslookup:name key="ia.rem_inst_auto_launch_url"> 
Launching Remediation URL... 
</cueslookup:name> 
<cueslookup:name key="ia.rem_inst_auto_opswat_av"> 
Updating Virus Definition... 
</cueslookup:name> 
<cueslookup:name key="ia.rem_inst_auto_opswat_as"> 
Updating Spyware Definition... 
</cueslookup:name> 
<cueslookup:name key="ia.rem_inst_auto_win_update"> 
Launching Windows auto Update(s)... 
</cueslookup:name> 
<cueslookup:name key="ia.rem_launch_downloaded_file"> 
Downloaded at %1. %br% Please open this folder &#x0026; double-click executable file to install the required software. 
</cueslookup:name> 
<cueslookup:name key="discoveryhost.label"> 
Discovery Host 
</cueslookup:name> 
<cueslookup:name key="properties.table.title"> 
List of Antivirus &#x0026; Anti-Spyware Products Detected by the Agent 
</cueslookup:name> 
<cueslookup:name key="properties.table.header1.index"> 
No. 
</cueslookup:name> 
<cueslookup:name key="properties.table.header1.description"> 
Description 
</cueslookup:name> 
<cueslookup:name key="properties.table.header1.value"> 
Value 
</cueslookup:name> 
<cueslookup:name key="properties.table.data.product_type"> 
Product Type 
</cueslookup:name> 
<cueslookup:name key="properties.table.data.product_name"> 
Product Name 
</cueslookup:name> 
<cueslookup:name key="properties.table.data.product_version"> 
Product Version 
</cueslookup:name> 
<cueslookup:name key="properties.table.data.def_version"> 
Definition Version 
</cueslookup:name> 
<cueslookup:name key="properties.table.data.def_date"> 
Definition Date 
</cueslookup:name> 
<cueslookup:name key="reboot.mandatory.001"> 
Mandatory System Reboot Required 
</cueslookup:name> 
<cueslookup:name key="reboot.optional.001"> 
You need to reboot your system in order for the changes to take effect. 
</cueslookup:name> 
<cueslookup:name key="rem.error.001"> 
Unable to remediate particular requirement 
</cueslookup:name> 
<cueslookup:name key="rem.error.av_access_denied"> 
The remediation you are attempting is reporting an access denied error. This is usually due to a privilege issue. Please contact your system administrator. 
</cueslookup:name> 
<cueslookup:name key="rem.error.av_buffer_too_small"> 
The remediation you are attempting has failed with an internal error. Please contact your system administrator. 
</cueslookup:name> 
<cueslookup:name key="rem.error.av_elevation_required"> 
The remediation you are attempting requires elevation. Please contact your system administrator. 
</cueslookup:name> 
<cueslookup:name key="rem.error.av_failed"> 
The remediation you are attempting had a failure. If the problem persists contact your system administrator. 
</cueslookup:name> 
<cueslookup:name key="rem.error.av_internal_error"> 
The remediation you are attempting has reported an internal error. If this problem persists please contact your system administrator. 
</cueslookup:name> 
<cueslookup:name key="rem.error.av_not_implemented"> 
The remediation you are attempting is not implemented for this product. Please contact your system administrator. 
</cueslookup:name> 
<cueslookup:name key="rem.error.av_not_supported"> 
The remediation you are attempting is not supported for this product. Please contact your system administrator. 
</cueslookup:name> 
<cueslookup:name key="rem.error.av_update_faile"> 
The AV/AS update has failed. Please try again and if this message continues to display contact your system administrator. 
</cueslookup:name> 
<cueslookup:name key="rem.error.av_update_failed_due_to_network"> 
The AV/AS update failed due to a networking issue. Please try again and if this message continues to display contact your system administrator. 
</cueslookup:name> 
<cueslookup:name key="rem.error.av_timeout"> 
The remediation you are attempting has timed out waiting for the operation to finish. If this continues please contact your system administrator. 
</cueslookup:name> 
<cueslookup:name key="rem.error.file_dist_size_error"> 
The size of the downloaded file does not match the package! Please discard downloaded file and check with your administrator. 
</cueslookup:name> 
<cueslookup:name key="rem.error.file_is_not_signed"> 
The file that has been requested was not digitally signed. Please try again and if this message continues to display contact your system administrator. 
</cueslookup:name> 
<cueslookup:name key="rem.error.file_save_location_error"> 
The location for the file to be saved to can not be written. Please choose a different location. 
</cueslookup:name> 
<cueslookup:name key="rem.error.http_file_not_found"> 
The requested file is not found. Please try again and if this problem persists, contact your system administrator. 
</cueslookup:name> 
<cueslookup:name key="rem.error.launch_file_not_found"> 
The file that has been requested could not be launched either because it could not be found or there was a problem launching it. Please contact your system administrator. 
</cueslookup:name> 
<cueslookup:name key="rem.error.malformed_URL"> 
The file that is trying to be downloaded has an incorrect URL. Please contact your system administrator. 
</cueslookup:name> 
<cueslookup:name key="rem.error.network_error"> 
There has been a network error, please try the remediation again. If this message continues to be seen contact your system administrator. 
</cueslookup:name> 
<cueslookup:name key="rem.error.update_fail_for_non_admin"> 
The remediation you are trying to do can not be accomplished at your user level. Please contact your system administrator. 
</cueslookup:name> 
<cueslookup:name key="rem.error.wsus_search_failure"> 
The WSUS search failed. This is probably due to a network issue. Please try again and if this message continues to display contact your system administrator. 
</cueslookup:name> 
<cueslookup:name key="server.error.generic"> 
Agent encountered problems logging user 
</cueslookup:name> 
<cueslookup:name key="server.error.255"> 
Network Error: NAC Server could not establish a secure connection to NAC Manager. 
This could be due to one or more of the following reasons: 
1) NAC Manager certificate has expired or 
2) NAC Manager certificate cannot be trusted or 
3) NAC Manager cannot be reached or 
4) NAC Manager is not responding 
Please report this to your network administrator. 
</cueslookup:name> 
<cueslookup:name key="server.error.5000"> 
Invalid provider name 
</cueslookup:name> 
<cueslookup:name key="server.error.5001"> 
Failed to add user to online list 
</cueslookup:name> 
<cueslookup:name key="server.error.5002"> 
Server communication error 
</cueslookup:name> 
<cueslookup:name key="server.error.5003"> 
Invalid username or password 
</cueslookup:name> 
<cueslookup:name key="server.error.5004"> 
Unknown user 
</cueslookup:name> 
<cueslookup:name key="server.error.5005"> 
Account expired 
</cueslookup:name> 
<cueslookup:name key="server.error.5006"> 
Account currently disabled 
</cueslookup:name> 
<cueslookup:name key="server.error.5007"> 
Exceed quota limit 
</cueslookup:name> 
<cueslookup:name key="server.error.5008"> 
Insufficient Clean Access packages installed 
</cueslookup:name> 
<cueslookup:name key="server.error.5009"> 
Access to network is blocked by the administrator 
</cueslookup:name> 
<cueslookup:name key="server.error.5010"> 
Vulnerabilities not fixed 
</cueslookup:name> 
<cueslookup:name key="server.error.5011"> 
This client version is old and not compatible. Please login from web browser to see the download link for the new version. 
</cueslookup:name> 
<cueslookup:name key="server.error.5012"> 
Network policy is not accepted 
</cueslookup:name> 
<cueslookup:name key="server.error.5013"> 
Invalid switch configuration 
</cueslookup:name> 
<cueslookup:name key="server.error.5014"> 
Too many users using this account 
</cueslookup:name> 
<cueslookup:name key="server.error.5015"> 
Invalid session 
</cueslookup:name> 
<cueslookup:name key="server.error.5016"> 
Null session 
</cueslookup:name> 
<cueslookup:name key="server.error.5017"> 
Invalid user role 
</cueslookup:name> 
<cueslookup:name key="server.error.5018"> 
Invalid login page 
</cueslookup:name> 
<cueslookup:name key="server.error.5019"> 
Encoding failure 
</cueslookup:name> 
<cueslookup:name key="server.error.5020"> 
A security enhancement is required for your Agent. Please upgrade your Agent or contact your network administrator. 
</cueslookup:name> 
<cueslookup:name key="server.error.5021"> 
Can not find server reference 
</cueslookup:name> 
<cueslookup:name key="server.error.5022"> 
User role currently disabled 
</cueslookup:name> 
<cueslookup:name key="server.error.5023"> 
Authentication server is not reachable 
</cueslookup:name> 
<cueslookup:name key="server.error.5024"> 
Agent user operating system is not supported 
</cueslookup:name> 
<cueslookup:name key="server.error.generic_emergency"> 
The Agent has encountered an unexpected error and is restarting. 
</cueslookup:name> 
<cueslookup:name key="server.error.http_error"> 
Clean Access Server is not available on the network. 
</cueslookup:name> 
<cueslookup:name key="server.error.nw_interface_chg"> 
Authentication interrupted due to network status change. Press OK to retry. 
</cueslookup:name> 
<cueslookup:name key="server.error.svr_misconfigured"> 
Clean Access Server is not properly configured. 
</cueslookup:name> 
<cueslookup:name key="server.clarification.generic_emergency"> 
Please contact your administrator if the problem persists. 
</cueslookup:name> 
<cueslookup:name key="announce.savingreport"> 
Saving Report 
</cueslookup:name> 
<cueslookup:name key="announce.savingreport.failed"> 
Unable to save report 
</cueslookup:name> 
<cueslookup:name key="announce.cancelremediationack"> 
Clicking Cancel may change your network connectivity and interrupt download or required updates.<p> Do you want to continue?</p> 
</cueslookup:name> 
<cueslookup:name key="announce.dismiss.default"> 
Dismiss to continue 
</cueslookup:name> 
<cueslookup:name key="announce.logoutconfirm"> 
Successfully logged out from the network! 
</cueslookup:name> 
</cueslookup:appstrings> 

Note
There is no limit to the number of characters you can use for the customized text. However, Cisco recommends restricting the length so that these fields do not take up too much space in the resulting customized login screen as it appears on the client.
Sample Extended nacStrings_xx.xml File
<cueslookup:name key="dp.status.fullNetAccess">Full Network Access</cueslookup:name> 
<cueslookup:name key="dp.status.fullNetAccess.verbose">Your device conforms with all the security policies for this protected network</cueslookup:name> 
<cueslookup:name key="dp.status.fullNetAccessWarn.verbose">Only optional requirements are failing. It is recommended that you update your system at your earliest convenience.</cueslookup:name> 
<cueslookup:name key="dp.status.iprefresh.progress.verbose">Refreshing IP address. Please Wait ...</cueslookup:name> 
<cueslookup:name key="dp.status.iprefresh.complete.verbose">Refreshing IP address succeeded.</cueslookup:name> 
<cueslookup:name key="dp.status.vlanchange.progress.verbose">Connecting to protected Network. Please Wait ...</cueslookup:name> 
<cueslookup:name key="dp.status.guestNetAccess">Guest Network Access</cueslookup:name> 
<cueslookup:name key="dp.status.noNetAccess">Network Access Denied</cueslookup:name>
<cueslookup:name key="dp.status.noNetAccess.verbose">There is at least one mandatory requirement failing. You are required to update your system before you can access the network.
</cueslookup:name><cueslookup:name key="dp.status.rejectNetPolicy.verbose">Network Usage Terms and Conditions are rejected. You will not be allowed to access the network.</cueslookup:name> 
<cueslookup:name key="dp.status.RestrictedNetAccess">Restricted Network Access granted.</cueslookup:name> 
<cueslookup:name key="dp.status.RestrictedNetAccess.verbose">You have been granted restricted network access because your device did not conform with all the security policies for this protected network and you have opted to defer updating your system. It is recommended that you update your system at your earliest convenience.</cueslookup:name> 
<cueslookup:name key="dp.status.temporaryNetAccess">Temporary Network Access</cueslookup:name> 
<cueslookup:name key="dp.status.temporaryNetAccess.bepatient.verbose">Please be patient while your system is checked against the network security policy.</cueslookup:name>
<cueslookup:name key="dp.status.pra.mandatoryfailure">Performing Re-assessment</cueslookup:name> 
<cueslookup:name key="dp.status.pra.mandatoryfailure.verbose">There is at least one mandatory requirement failing. You are required to update your system otherwise your network access will be restricted.</cueslookup:name> 
<cueslookup:name key="dp.status.pra.optionalfailure">Performing Re-assessment</cueslookup:name> 
<cueslookup:name key="dp.status.pra.optionalfailure.verbose">Only optional requirements are failing. It is recommended that you update your system at your earliest convenience.</cueslookup:name> 
<cueslookup:name key="dp.status.SessionTimeout">Logged out</cueslookup:name> 
<cueslookup:name key="dp.status.SessionTimeout.verbose">Temporary Access to the network has expired.</cueslookup:name> 
<cueslookup:name key="dp.status.Unauthenticated">Logged out</cueslookup:name> 
<cueslookup:name key="dp.status.Unauthenticated.verbose"> </cueslookup:name> 
UpdateFeed.xml Descriptor File Template
This is one of the files that is required in your Agent screen customization package, allows you to customize the logo, fields, and message text contained in a Cisco NAC Agent dialog, like the Properties screen, to suit your specific Windows client network access requirements.
Before you can complete your Agent screen customization package, you must construct a suitable updateFeed.xml XML descriptor file. Use the following example as a template to set up the updateFeed.xml descriptor file required for your customization package.
<?xml version="1.0" encoding="utf-8"?> 
<feed xmlns="http://www.w3.org/2005/Atom" xmlns:update="http://www.cisco.com/cpm/update/1.0"> 
<title>Provisioning Update</title> 
<updated>2011-12-21T12:00:00Z</updated> 
<id>https://www.cisco.com/web/secure/pmbu/provisioning-update.xml</id> 
<author> 
<name>Cisco Support</name> 
<email>support@cisco.com</email> 
</author> 
<!-- Custom Branding --> 
<entry> 
<id>http://foo.foo.com/foo/AgentCustomizationPackage/1/1/1/7</id> 
<title>Agent Customization Package</title> 
<updated>2010-06-07T12:00:00Z</updated> 
<summary>This is EF Agent Customization Package 1.1.1.7</summary> 
<link rel="enclosure" type="application/zip" href="brand-win.zip" length="18884" /> 
<update:type>AgentCustomizationPackage</update:type> 
<update:version>1.1.1.7</update:version> 
<update:os>WINDOWS_ALL</update:os> 
</entry> 
</feed> 
Note the following points while creating the updateFeed.xml descriptor file:
<update:os>—You must always set this attribute to “WINDOWS_ALL” to include all the Windows OS versions that are supported by Cisco NAC Agent. See Support Information for Cisco NAC Appliance Agents for the list of Windows OS versions that are supported by Cisco NAC Agent.
<update:version>—This refers to the Agent Customization Package version that you want to upgrade to. This value should be four digit <n.n.n.n> and should be greater than the package version that is currently installed.
<id>—This id can be anything, but should be unique for each Agent Customization Package.
Example XML File Generated Using the Create Profile Function
<?xml version="1.0" ?>
<cfg>
   <VlanDetectInterval>0</VlanDetectInterval>
   <RetryDetection>3</RetryDetection>
   <PingArp>0</PingArp>
   <PingMaxTimeout>1</PingMaxTimeout>
   <EnableVlanDetectWithoutUI>0</EnableVlanDetectWithoutUI>
   <SignatureCheck>0</SignatureCheck>
   <DisableExit>0</DisableExit>
   <PostureReportFilter>displayFailed</PostureReportFilter>
   <BypassSummaryScreen>1</BypassSummaryScreen>
   <LogFileSize>5</LogFileSize>
   <DiscoveryHost></DiscoveryHost>
   <DiscoveryHostEditable>1</DiscoveryHostEditable>
   <Locale>default</Locale>
   <AccessibilityMode>0</AccessibilityMode>
   <SwissTimeout>1</SwissTimeout>
   <HttpDiscoveryTimeout>30</HttpDiscoveryTimeout>
   <HttpTimeout>120</HttpTimeout>
   <ExceptionMACList></ExceptionMACList>
   <GeneratedMAC></GeneratedMAC>
   <AllowCRLChecks>1</AllowCRLChecks>
   <DisableL3SwissDelay>0</DisableL3SwissDelay>
   <ServerNameRules></ServerNameRules>
</cfg>

Note
This file also contains two static (that is, uneditable by the user or Cisco ISE administrator) “AgentCfgVersion” and “AgentBrandVersion” parameters used to identify the current version of the agent profile and agent customization file, respectively, on the client.
Configure Client Provisioning Resource Policies
For clients, the client provisioning resource policies determine which users receive which version of resources (agents, agent compliance modules, and agent customization packages or profiles) from Cisco ISE upon login and user session initiation.
For AnyConnect, resources can be selected from the Client Provisioning Resources window to create an AnyConnect configuration that you can use in the Client Provisioning Policy window. AnyConnect configuration specifies the AnyConnect software and its association with different configuration files that includes AnyConnect binary package for Windows and macOS clients, compliance module, module profiles, customization, and language packages.
For Cisco ISE NAC agents, resources can be selected from the Client Provisioning window.
Before you begin
Before you can create effective client-provisioning resource policies, ensure that you have added resources to Cisco ISE. When you download the agent compliance module, it always overwrites the existing one, if any, available in the system.
Check the native supplicant profile that is used in the client provisioning policy and ensure that the wireless SSID is correct. For iOS devices, if the network that you are trying to connect is hidden, check the Enable if target network is hidden check box in the iOS Settings area.
Procedure
Step 1
Choose Policy > Client Provisioning.
Step 2
From the Behavior drop-down list, choose one of the following options:
Enable: Ensures Cisco ISE uses this policy to help fulfill client-provisioning functions when users log in to the network and conform to the client-provisioning policy guidelines.
Disable: Cisco ISE does not use the specified resource policy to fulfill client-provisioning functions.
Monitor: Disables the policy and “watches” the client-provisioning session requests to see how many times Cisco ISE tries to invoke based on the “Monitored” policy.
Step 3
Enter a name for the new resource policy in the Rule Name text box.
Step 4
Specify one or more Identity Groups to which a user who logs into Cisco ISE might belong.
You can choose to specify the Any identity group type, or choose one or more groups from a list of existing Identity Groups that you have configured.
Step 5
Use the Operating Systems field to specify one or more operating systems that might be running on the client machine or device through which the user is logging into Cisco ISE.
You can choose to specify a single operating system like Android, Mac iOS, macOS or an umbrella operating system designation that addresses a number of client machine operating systems like Windows XP (All) or Windows 7 (All).
Note 
Though the option to select macOS 10.6, 10.7, and 10.8 is available in the Client Provisioning window in Cisco ISE GUI, these versions are not supported by AnyConnect.
Step 6
In the Other Conditions field, specify a new expression that you want to create for this particular resource policy.
Step 7
For client machines, use the Agent Configuration option to specify which agent type, compliance module, agent customization package, and profile to make available and provision on the client machine.
It is mandatory to include the client provisioning URL in authorization policy to enable the agent to popup in the client machines. This prevents request from any random clients and ensures that only clients with proper redirect URL can request for posture assessment.
Step 8
Click Save.
What to do next
After you have successfully configured one or more client provisioning resource policies, you can start to configure Cisco ISE to perform posture assessment on client machines during login.
Configure Cisco ISE Posture Agent in the Client Provisioning Policy
Configure Native Supplicants for Personal Devices
Configure Cisco ISE Posture Agent in the Client Provisioning Policy
For client machines, configure the agent type, compliance module, agent customization package, and/or profile to make available and provision for users to download and install on the client machine.
Before you begin
You must add client provisioning resources for AnyConnect and Cisco ISE NAC in Cisco ISE.
Procedure
Step 1
Choose an available agent from the Agent drop-down list and specify whether the agent upgrade (download) defined here is mandatory for the client machine by enabling or disabling the Is Upgrade Mandatory option, as appropriate.
The Is Upgrade Mandatory setting only applies to agent downloads. Agent profile, compliance module, and agent customization package updates are always mandatory.
Step 2
Choose an existing agent profile from the Profile drop-down list.
Step 3
Choose an available compliance module to download to the client machine using the Compliance Module drop-down list.
Step 4
Choose an available agent customization package for the client machine from the Agent Customization Package drop-down list.
Configure Native Supplicants for Personal Devices
Employees can connect their personal devices to the network directly using native supplicants, which are available for Windows, Mac OS, iOS, and Android devices. For personal devices, specify which Native Supplicant configuration to make available and provision on the registered personal device.
Before you begin
Create native supplicant profiles so that when user log in, based on the profile that you associate with that users authorization requirements, Cisco ISE provides the necessary supplicant provisioning wizard to set up the users personal devices to access the network.
Procedure
Step 1
Choose Policy > Client Provisioning.
Step 2
Choose Enable , Disable , or Monitor from the behavior drop-down list.
Step 3
Enter a name for the new resource policy in the Rule Name text box.
Step 4
Specify the following:
Use the Identity Groups field to specify one or more Identity Groups to which a user who logs into Cisco ISE might belong.
Use the Operating System field to specify one or more operating systems that might be running on the personal device through which the user is logging into Cisco ISE.
Use the Other Conditions field to specify a new expression that you want to create for this particular resource policy.
Step 5
For personal devices, use Native Supplicant Configuration to choose the specific Configuration Wizard to distribute to these personal devices.
Step 6
Specify the applicable Wizard Profile for the given personal device type.
Step 7
Click Save.
Client Provisioning Reports
You can access the Cisco ISE monitoring and troubleshooting functions to check on overall trends for successful or unsuccessful user login sessions, gather statistics about the number and types of client machines logging into the network during a specified time period, or check on any recent configuration changes in client provisioning resources.
Client Provisioning Requests
The Operations > Reports > ISE Reports > Endpoints and Users > Client Provisioning report displays statistics about successful and unsuccessful client provisioning requests. When you choose Run and specify one of the preset time periods, Cisco ISE combs the database and displays the resulting client provisioning data.
Supplicant Provisioning Requests
The Operations > Reports > ISE Reports > Endpoints and Users > Supplicant Provisioning window displays information about recent successful and unsuccessful user device registration and supplicant provisioning requests. When you choose Run and specify one of the preset time periods, Cisco ISE combs the database and displays the resulting supplicant provisioning data.
The Supplicant Provisioning report provides information about a list of endpoints that are registered through the device registration portal for a specific period of time, including data like the Logged at Date and Time, Identity (user ID), IP Address, MAC Address (endpoint ID), Server, profile, Endpoint Operating System, SPW Version, Failure Reason (if any), and the Status of the registration.
Client Provisioning Event Logs
You can search event log entries to help diagnose a possible problem with client login behavior. For example, you may need to determine the source of an issue where client machines on your network are not able to get client provisioning resource updates upon login. You can use logging entries for Posture and Client Provisioning Audit and Posture and Client Provisioning Diagnostics.
Was this Document Helpful?
Yes No
Feedback
Customers Also Viewed
Configure EAP-TLS Authentication with ISE
Perform Password Recovery for ISE Command Line Interface (CLI)
Install Patch on ISE
+ Show 1 More
Contact Cisco
Open a Support Case
(Requires a Cisco Service Contract)