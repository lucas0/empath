End-User Guides
Cisco SD-WAN Systems and Interfaces Configuration Guide, Cisco IOS XE Release 17.x
Bias-Free Language
Book Contents
Translations
Download
Print
Updated:
August 24, 2020
Chapter: CLI Add-On Feature Templates
Chapter Contents
Table 1. Feature History Table
Feature Name
Release Information
Description
CLI Add-On Feature Templates
Cisco IOS XE Release 17.2.1r
Cisco vManage 20.1.1
This feature adds a new feature template called the CLI add-on feature template. You can use this feature template to attach specific CLI configurations to a device. If a configuration cannot be specified using Cisco vManage but can be configured using the CLI on the device, then you can use this feature template to specify such configurations. You can also use CLI add-on feature templates to add small pieces of CLI configuration, instead of an entire running configuration.
This feature is not intended to replace existing feature templates but instead to enhance their functionality. Note that not all CLIs are qualified. For more information, see Qualified CLIs for Cisco IOS XE Release 17.2.1r.
Additional Commands Qualified for CLI Add-On Feature Templates
Cisco IOS XE Release Amsterdam 17.2.1v
Cisco SD-WAN Release 20.1.12
With each release, we qualify commands for use with the CLI add-on feature templates feature. In this release, we qualified additional commands. See the Appendix in Cisco IOS XE SD-WAN Qualified Command Reference.
Overview of the CLI Add-On Feature Templates
Restrictions for CLI Add-On Feature Templates
Create a CLI Add-On Feature Template
Qualified CLIs for CLI Add-On Feature Templates
Overview of the CLI Add-On Feature Templates
If you attach a device template containing both a feature template and the new CLI add-on feature template, the configurations are merged. The merge gives priority to the new CLI add-on feature templates. Cisco vManage first generates the configurations based on the feature template. After the configuration is generated, it uses the configuration from the CLI add-on feature templates to merge it into the feature template config output that was previously generated. Hence, using this feature, you can add specific device configurations that are not provided by the existing feature templates or you can override the configurations of existing feature templates.
When you specify commands using the template, use the commands as per the syntax displayed in the show sdwan running-config output. When you attach the template to the device, Cisco vManage takes the information from all feature templates and also takes the data you specified using the CLI add-on feature template to create the device configuration. The commands that you specify in the CLI add-on feature template overwrites any equivalent commands in the corresponding feature template.
In addition to changing existing commands, the CLI add-on feature template can also be used to specify commands that are not available in Cisco vManage but are qualified for the device. For example, for Cisco AAA, the attempts login command is not available in Cisco vManage. By using a CLI add-on feature template, you can specify the aaa authentication attempts login number command for a device. After you create the feature template, ensure that you add it to the device template.

Note
You must define the CLI add-on feature template before you use it in a device template.
For a list of CLIs that are qualified, see Qualified CLIs for CLI Add-on Feature Templates.
Restrictions for CLI Add-On Feature Templates
The following restrictions apply when using the CLI add-on feature templates:
This feature is only supported on Cisco IOS XE SD-WAN devices running Cisco IOS XE Release 17.2.1r or onwards.
Only one CLI add-on template can be attached per device template.
Ensure that you only use configuration commands as they appear in the output of the show sdwan running-config command. Before using a command in the CLI add-on feature template, verify the command by logging in and running it on the intended device.
Unsupported commands in your configuration cause errors and results in a failure when pushing the configuration to the device. For example, "login local" is an unsupported command.
For a release-wise list of commands qualified for use in the CLI add-on feature template, see Qualified CLI Commands for CLI Add-on Feature templates.
Create a CLI Add-On Feature Template
To create a CLI add-on feature template, do the following:
From the Cisco vManage menu, choose Configuration > Templates.
Click Feature Templates, and click Add Template to select an appropriate device model..

Note
In Cisco vManage Release 20.7.x and earlier releases, Feature Templates is titled as Feature.
From Select Devices, select the devices for which you are creating the template.
From Select Template, scroll down to the OTHER TEMPLATES section.
Click CLI Add-On Template.
In Template Name, enter a name for the feature template.
This field is mandatory and can contain only uppercase and lowercase letters, the digits 0 through 9, hyphens (-), and underscores (_). It cannot contain spaces or any other characters.
In Description, enter a description for the device template.
This field is mandatory, and it can contain any characters and spaces.
In CLI Configuration, enter the configuration either by typing it, cutting and pasting it, or uploading a file.
To convert an actual configuration value to a variable, select the value and click Create Variable. Enter the variable name, and click Create Variable. You can also type the variable name directly, in the format {{variable-name}}. For example: {{hostname}}.
Click Save.
The new feature template is displayed in the Feature Template table.
To use the CLI add-on feature template, edit the device template as follows:
From the Cisco vManage menu, choose Configuration > Templates.
Click Device Templates.

Note
In Cisco vManage Release 20.7.x and earlier releases, Device Templates is titled as Device.
Select the device template for which you want to add the CLI add-on feature template.
Click ..., and choose Edit.
Scroll to Additional Templates.
From CLI Add-On Template, select the CLI add-on feature template that you previously created.
Click Update.

Note
In Cisco IOS XE Release 17.7.x, while creating a CLI template, if the following CLIs are visible in the template, then ensure that you manually delete the CLIs from the template before attaching the template to the device:
licensing config enable false
licensing config privacy hostname false
licensing config privacy version false
licensing config utility utility-enable false
Qualified CLIs for CLI Add-On Feature Templates
For a release-wise list of CLI commands that are qualified for use in Cisco vManage CLI templates, see the Appendix in Cisco IOS XE SD-WAN Qualified Command Reference.
Was this Document Helpful?
Yes No
Feedback
Customers Also Viewed
Cisco IOS XE SD-WAN Qualified Command Reference --- Commands Qualified in Cisco IOS XE Release 17.x
Cisco SD-WAN Systems and Interfaces Configuration Guide, Cisco IOS XE Release 17.x --- CLI Templates for Cisco IOS XE SD-WAN Routers
Systems and Interfaces Configuration Guide, Cisco SD-WAN Release 20.x --- Configure Devices
+ Show 3 More
Contact Cisco
Open a Support Case
(Requires a Cisco Service Contract)